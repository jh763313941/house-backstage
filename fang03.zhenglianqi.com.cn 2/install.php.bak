<?php
 goto HFKUk; dvrc9: $server = trim($_POST["\163\145\x72\166\145\162"]); goto r6XHf; HoXPz: rQCp9: goto M3EcK; gJ6x7: if (!($chunk_num == 1)) { goto itFAB; } goto M09Iy; wSbPy: function install_authcode($string, $operation = "\104\105\103\117\x44\105", $key = '', $expiry = 0) { goto VnGaE; Yw4mE: $key = md5($key != '' ? $key : $GLOBALS["\137\x57"]["\143\x6f\156\x66\x69\x67"]["\163\x65\x74\x74\151\156\x67"]["\x61\165\x74\x68\153\145\171"]); goto nIHs9; oiOcU: $key_length = strlen($cryptkey); goto ADr9P; BpasC: $string_length = strlen($string); goto q_22E; h4EPf: $i++; goto A53bL; VnGaE: $ckey_length = 4; goto Yw4mE; tr5F4: if ($operation == "\104\x45\103\x4f\x44\105") { goto zTqOQ; } goto Rl7hG; DD1Qf: $i++; goto nnV83; W13lU: zTqOQ: goto q83eT; A42q9: $tmp = $box[$i]; goto TPD5L; cK9pE: k147Y: goto tr5F4; kL89y: if (!($i <= 255)) { goto NMl3z; } goto KnWIz; eKfjM: NMl3z: goto j7Ect; yh2iv: jOAx2: goto DD1Qf; MAcI2: goto Yst3O; goto fkPNU; vNK48: $a = $j = $i = 0; goto Hyna3; q_22E: $result = ''; goto WBgPY; xCojI: $box[$j] = $tmp; goto VnRB2; epM44: $box[$j] = $tmp; goto rWIsf; KnWIz: $rndkey[$i] = ord($cryptkey[$i % $key_length]); goto e3Rer; TPD5L: $box[$i] = $box[$j]; goto epM44; fkPNU: cro27: goto vNK48; rWIsf: Rwn8S: goto oGlf1; A53bL: goto B9Wev; goto eKfjM; H_nke: $tmp = $box[$a]; goto dulag; Rl7hG: return $keyc . str_replace("\x3d", '', base64_encode($result)); goto jTV7M; K4dH2: $keyc = $ckey_length ? $operation == "\104\x45\103\x4f\x44\x45" ? substr($string, 0, $ckey_length) : substr(md5(microtime()), -$ckey_length) : ''; goto z03Qj; G_69w: $i = 0; goto m4xj9; ADr9P: $string = $operation == "\104\105\103\x4f\104\x45" ? base64_decode(substr($string, $ckey_length)) : sprintf("\x25\60\x31\60\144", $expiry ? $expiry + time() : 0) . substr(md5($string . $keyb), 0, 16) . $string; goto BpasC; csv3X: if (!($i < 256)) { goto cro27; } goto tCziu; nnV83: goto my9Sy; goto cK9pE; e3Rer: T1ELn: goto h4EPf; q83eT: if ((substr($result, 0, 10) == 0 || substr($result, 0, 10) - time() > 0) && substr($result, 10, 16) == substr(md5(substr($result, 26) . $keyb), 0, 16)) { goto cAGug; } goto Lk7gC; B_r_f: $j = ($j + $box[$a]) % 256; goto H_nke; Hyna3: my9Sy: goto Bdwxn; dulag: $box[$a] = $box[$j]; goto xCojI; Lk7gC: return ''; goto lEYOX; vC06T: $rndkey = array(); goto G_69w; teViH: Yst3O: goto csv3X; nIHs9: $keya = md5(substr($key, 0, 16)); goto StmNu; WBgPY: $box = range(0, 255); goto vC06T; m4xj9: B9Wev: goto kL89y; oGlf1: $i++; goto MAcI2; lEYOX: goto bf1RY; goto FNLW4; Bdwxn: if (!($i < $string_length)) { goto k147Y; } goto rgP6t; z03Qj: $cryptkey = $keya . md5($keya . $keyc); goto oiOcU; ihWaV: oJ4Hx: goto C8euR; TycE2: bf1RY: goto ihWaV; VnRB2: $result .= chr(ord($string[$i]) ^ $box[($box[$a] + $box[$j]) % 256]); goto yh2iv; cjGZb: return substr($result, 26); goto TycE2; FNLW4: cAGug: goto cjGZb; StmNu: $keyb = md5(substr($key, 16, 16)); goto K4dH2; tCziu: $j = ($j + $box[$i] + $rndkey[$i]) % 256; goto A42q9; jTV7M: goto oJ4Hx; goto W13lU; j7Ect: $j = $i = 0; goto teViH; rgP6t: $a = ($a + 1) % 256; goto B_r_f; C8euR: } goto eka0F; E_iqB: $url = $siteroot . "\x2f\151\x6e\163\164\141\x6c\x6c\56\160\150\160\77\x73\164\x65\160\x3d\157\141\165\x74\x68"; goto UIlFu; aRg3U: $ret["\x76\x65\x72\x73\151\157\156"]["\146\141\151\154\x65\144"] = true; goto gD8Px; liTy9: if (!(version_compare(PHP_VERSION, "\x35\56\63\56\60") == -1)) { goto ZS9pc; } goto aRg3U; pkG82: $chunk_num = max(1, intval($_POST["\143\150\x75\x6e\153"])); goto CLq5Y; ChnZA: we7_setcookie("\160\141\x63\x6b\141\147\145\x5f\155\x64\65", $data["\x6d\x64\x35"]); goto si7Kw; EG1OG: $db_name = trim($_POST["\156\141\x6d\x65"]); goto VDbVv; sCEyj: QULUY: goto qZ8OR; pABU8: we7_setcookie("\143\x68\x75\156\153\x5f\x74\157\x74\x61\x6c", 1); goto wgagd; H8oFu: if (we7_network_enable($_SERVER["\123\x45\x52\x56\x45\122\137\116\x41\x4d\105"])) { goto GxPhl; } goto uLqrN; EXdPN: zH98v: goto H8oFu; w1u5q: $data = we7_request_api(API_GET_PACKAGE_MD5_AND_CHUNKTOTAL, array("\x61\143\143\145\x73\x73\137\x74\x6f\153\145\156" => $accesstoken)); goto R2ZXP; JA1io: define("\x41\120\111\x5f\x4f\101\125\x54\x48\x5f\122\105\x47\111\123\124\x45\x52\x5f\x53\x49\x54\x45", API_HOST . "\57\163\x69\x74\x65\57\162\145\147\151\163\164\x65\162\x2f\151\156\x64\x65\170"); goto nhqf3; NrG3u: function we7_handle_chunk() { goto efVq_; DmInp: return $result; goto vRqv5; vdjpk: ruG6I: goto DmInp; q0Dd1: if (!($res === TRUE)) { goto l5t1R; } goto Kyyn0; zddYz: if (!file_exists($tmpfile)) { goto ruG6I; } goto w7vFE; GZ472: l5t1R: goto vdjpk; VSdnq: $res = $zip->open($tmpfile); goto q0Dd1; R8eD8: $result = false; goto zddYz; w7vFE: $zip = new ZipArchive(); goto VSdnq; vJr6S: $zip->close(); goto SPTGV; Kyyn0: $zip->extractTo(IA_INSTALL_ROOT); goto vJr6S; SPTGV: $result = true; goto GZ472; efVq_: $tmpfile = "\56\57\x77\145\67\x73\157\165\162\x63\x65\56\x7a\x69\x70"; goto R8eD8; vRqv5: } goto W9BQ5; Fvm9k: PN5yg: goto rFagB; lVrYx: K581S: goto qDRVu; fgTN2: exit(we7_error(400, "\xe4\xbf\xae\346\x94\271\347\253\231\347\202\271\xe5\x90\x8d\xe7\247\xb0\xe5\244\261\350\264\245\x2e")); goto fhpZS; Wjajj: exit(we7_error(0, "\163\x75\143\x63\145\x73\x73")); goto hgiyd; XQr6A: $result = intval($download_size / $source_size * 100); goto uJVb7; lPSWn: if (file_exists(IA_INSTALL_ROOT . "\57\144\141\x74\141\x2f\144\x62\x2e\x6c\x6f\x63\x6b")) { goto N2lun; } goto jRKoe; y3RFn: function local_mkdirs($path) { goto ZKkMD; l1nRr: oe6Q4: goto qzExT; qzExT: return is_dir($path); goto ng5n2; NskOI: mkdir($path); goto l1nRr; ZKkMD: if (is_dir($path)) { goto oe6Q4; } goto m23gd; m23gd: local_mkdirs(dirname($path)); goto NskOI; ng5n2: } goto FfYf5; yTVKm: rename("\x69\156\x73\x74\x61\x6c\x6c\x2e\160\x68\x70", "\x69\x6e\x73\x74\141\154\154\56\x70\150\160\x2e\142\x61\153"); goto urUXQ; WECym: $verfile = IA_INSTALL_ROOT . "\57\146\162\x61\x6d\145\167\157\162\x6b\x2f\x76\145\162\x73\x69\157\156\x2e\x69\x6e\143\56\160\150\160"; goto DrbZU; apuvc: if (!(!empty($auth["\165\x72\154"]) && $auth["\x75\162\x6c"] == $siteroot)) { goto Vs0L1; } goto MhmTl; axJV1: exit(we7_error(400, $chunk_num)); goto yOXgU; Fzoaa: exit(we7_error(433, "\x61\143\x63\145\163\x73\164\x6f\x6b\145\156\40\145\x78\160\151\162\145\x64\56")); goto ytHA2; Z3nDX: $result = array(); goto Hqp1L; g1ybr: goto G4SjL; goto MaT5g; VDbVv: $db_prefix = trim($_POST["\x70\162\145\x66\x69\x78"]); goto rM9Yu; K6BlB: if (!($action == "\157\141\165\x74\x68")) { goto DDH0Z; } goto CbPQ4; qN6r2: exit(we7_error(419, $database_result)); goto DA3Hv; EDdp5: function we7_update_user($username, $password) { goto ofUcw; ofUcw: global $_W, $is_https; goto KGP6J; NpLoo: $userinfo = pdo_get("\165\x73\145\x72\163", array("\165\x73\x65\162\156\141\155\x65" => "\141\x64\x6d\x69\x6e")); goto PWLBs; QbI72: $cookie["\165\151\x64"] = $userinfo["\x75\151\x64"]; goto GRwUm; CVnVO: $cookie = array("\x6c\141\x73\164\166\151\163\x69\x74" => '', "\x6c\141\x73\x74\151\x70" => ''); goto QbI72; Ph_tL: return $result ? true : false; goto B8NJq; PBQiK: $secure = $is_https ? 1 : 0; goto x6Mys; KGP6J: load()->model("\x75\x73\x65\162"); goto NpLoo; PWLBs: $password = user_hash($password, $userinfo["\163\141\154\x74"]); goto NM0Y8; GRwUm: $cookie["\x68\x61\163\150"] = md5($password . $userinfo["\x73\141\154\164"]); goto q2Oab; x6Mys: setcookie($_W["\x63\x6f\156\x66\x69\147"]["\143\x6f\x6f\153\151\x65"]["\160\162\145"] . "\x5f\x5f\163\145\163\163\x69\x6f\x6e", $session, 0, "\x2f", '', $secure, true); goto Ph_tL; q2Oab: $session = install_authcode(json_encode($cookie), "\x65\x6e\143\157\144\145", $_W["\x63\x6f\x6e\146\x69\147"]["\163\145\x74\164\151\156\147"]["\x61\165\x74\x68\x6b\145\x79"]); goto PBQiK; NM0Y8: $result = pdo_update("\x75\x73\145\162\x73", array("\165\x73\x65\162\x6e\141\155\x65" => $username, "\160\141\x73\x73\167\157\x72\x64" => $password), array("\165\x69\144" => $userinfo["\165\x69\x64"])); goto CVnVO; B8NJq: } goto zrKs7; eKtMt: KCryO: goto X0rVk; lL0_Z: fwrite($fh, $output); goto o4x2V; kTcWN: if (!($i <= $chunk_total)) { goto uYPvz; } goto IdFW3; B0yAU: bxNHP: goto LXfbK; Cho07: goto OLTqn; goto Mo4H_; TUS31: EOnCx: goto JceXq; o3JOw: $sitename = trim($_POST["\163\x69\x74\x65\x6e\141\x6d\x65"]); goto c0p_t; o_dnT: header("\114\157\x63\141\x74\151\x6f\x6e\x3a\40" . $forward); goto xRvhA; l4rAr: foreach (we7_need_extension() as $extension) { goto jFhyg; MLONM: $ret[$extension]["\x72\145\x73\x75\154\164"] = "\344\270\x8d\xe6\224\257\xe6\x8c\201" . $extension; goto V80R1; cz7rl: $ret[$extension]["\x6e\141\155\x65"] = $extension . "\xe6\x89\xa9\345\261\x95"; goto MLONM; KQE4x: if ($if_ok) { goto cA3Om; } goto ccIXV; V80R1: cA3Om: goto mXmaK; jFhyg: $if_ok = extension_loaded($extension); goto KQE4x; mXmaK: NHjtW: goto t7Rv0; ccIXV: $ret[$extension]["\x66\x61\x69\154\x65\x64"] = true; goto cz7rl; t7Rv0: } goto QV1cZ; r5UCa: if (!(file_exists(IA_INSTALL_ROOT . "\x2f\144\141\164\141\x2f\x69\156\163\x74\x61\x6c\x6c\56\x6c\x6f\x63\x6b") && !in_array($action, array("\157\x61\x75\164\150", "\x6c\157\147\x69\x6e")))) { goto CGNu1; } goto nlhwG; ZoJ4E: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\x64\141\x74\x61\57\151\156\x73\x74\141\154\x6c\56\x6c\x6f\x63\153") && !$registered_site)) { goto XjIMK; } goto WHuTR; MOKL8: setting_save($site, "\x73\x69\x74\x65"); goto czG44; cGASQ: OF88T: goto Ng5k8; o8r0P: exit; goto WHVgQ; oUWov: $filesize = filesize($filename); goto tr7qX; Ng5k8: $ret["\144\x6f\155"]["\x6f\153"] = class_exists("\x44\117\115\x44\157\x63\165\x6d\x65\156\x74"); goto USyTj; XSoQT: if (!($action == "\144\157\167\156\154\157\x61\x64\x5f\x70\x65\x72\x63\145\156\164")) { goto QULUY; } goto dwVoB; xk1b4: $hostfile = fopen($cdn_source_file, "\162\142"); goto QLg08; MljPG: $ret["\141\x73\x70\137\164\x61\x67\x73"]["\162\x65\163\x75\154\x74"] = "\141\x73\160\x5f\x74\x61\x67\163\xe5\274\x80\xe5\220\xaf\347\x8a\xb6\xe6\200\201"; goto gGxCu; JmMxl: define("\x41\x50\111\x5f\107\x45\x54\137\103\110\125\x4e\113\137\120\101\x43\x4b\x41\x47\x45", API_HOST . "\x2f\165\164\x69\x6c\57\160\141\x63\153\141\x67\145\57\151\x6e\163\164\141\154\154"); goto JA1io; iM68o: $finished = false; goto EUP79; mRVqv: gEuRP: goto d3f8t; f7kg4: function we7_http_response_parse($data) { goto g0ZZU; HgbEd: $pos = strpos($data, "\15\xa\xd\xa"); goto LwoWN; r5dVk: RrmNx: goto H2fH4; UXHTr: if (!($rlt["\x63\x6f\144\x65"] == "\61\60\x30")) { goto XKklD; } goto CCb2Y; e8rDO: preg_match("\x2f\136\x28\x5c\x53\53\51\40\50\x5c\123\x2b\x29\x20\50\x2e\52\51\44\57", $split2[0], $matches); goto iqdbh; vEd30: $rlt["\143\x6f\156\x74\145\x6e\x74"] = gzdecode($rlt["\143\x6f\156\164\x65\x6e\x74"]); goto uDG0i; UpX7c: $isgzip = false; goto pTWNn; iDDnZ: $rlt["\x73\164\141\x74\x75\163"] = !empty($matches[3]) ? $matches[3] : "\117\113"; goto tnwQY; mO0AO: if (!($isgzip && function_exists("\x67\x7a\144\145\x63\157\144\145"))) { goto ukT1Y; } goto vEd30; CCb2Y: return we7_http_response_parse($rlt["\143\x6f\156\164\145\156\164"]); goto gmpBN; E_ckI: $header = explode("\15\xa", $split2[1]); goto UpX7c; gmpBN: XKklD: goto upQx0; upQx0: return $rlt; goto gsBmE; iqdbh: $rlt["\x63\x6f\144\x65"] = !empty($matches[2]) ? $matches[2] : 200; goto iDDnZ; uDG0i: ukT1Y: goto d1P7p; pTWNn: foreach ($header as $v) { goto QLAzo; zLAZm: $temp = $rlt["\150\145\141\144\145\x72\x73"][$key]; goto ZN8cU; NfV5p: VSwBZ: goto pv6JC; niAVG: $rlt["\150\x65\x61\144\145\162\x73"][$key][] = $temp; goto AEBOa; ZN8cU: unset($rlt["\150\145\141\144\x65\x72\163"][$key]); goto niAVG; WCTZP: M9aW7: goto NfV5p; YqwPa: $key = substr($v, 0, $pos); goto Q6J50; g3lXV: yBW_x: goto nlULL; BT5hz: $rlt["\x68\x65\x61\144\145\x72\x73"][$key][] = $value; goto pIGw6; qajJQ: goto yBW_x; goto riiGq; QLAzo: $pos = strpos($v, "\72"); goto YqwPa; ay8V4: if (!empty($rlt["\150\x65\141\x64\145\162\x73"][$key])) { goto zmgO9; } goto snX9J; riiGq: ucA34: goto BT5hz; nlULL: if (!(!$isgzip && strtolower($key) == "\143\157\156\164\145\x6e\x74\x2d\145\x6e\x63\x6f\144\151\156\x67" && strtolower($value) == "\147\172\151\x70")) { goto M9aW7; } goto EGgAV; AEBOa: $rlt["\150\x65\141\x64\x65\162\x73"][$key][] = $value; goto g3lXV; Q6J50: $value = trim(substr($v, $pos + 1)); goto RAlAK; EGgAV: $isgzip = true; goto WCTZP; RAlAK: if (is_array($rlt["\x68\145\x61\x64\145\162\163"][$key])) { goto ucA34; } goto ay8V4; snX9J: $rlt["\x68\x65\x61\x64\x65\162\163"][$key] = $value; goto qajJQ; zzlg2: zmgO9: goto zLAZm; pIGw6: goto yBW_x; goto zzlg2; pv6JC: } goto r5dVk; tnwQY: $rlt["\x72\145\x73\160\157\156\163\145\x6c\151\156\145"] = !empty($split2[0]) ? $split2[0] : ''; goto E_ckI; yeUkA: $split2 = explode("\xd\12", $split1[0], 2); goto e8rDO; LwoWN: $split1[0] = substr($data, 0, $pos); goto f_JsU; d1P7p: $rlt["\x6d\145\164\x61"] = $data; goto UXHTr; f_JsU: $split1[1] = substr($data, $pos + 4, strlen($data)); goto yeUkA; H2fH4: $rlt["\x63\157\156\x74\x65\156\x74"] = $split1[1]; goto mO0AO; g0ZZU: $rlt = array(); goto HgbEd; gsBmE: } goto DNYS4; EwoAr: $output = fread($hostfile, 8192); goto lL0_Z; tr7qX: if (!(file_exists($filename) && !empty($filesize))) { goto uO3hI; } goto ZNKlt; mFly2: $ret["\x73\145\x73\x73\x69\x6f\x6e"]["\156\141\155\x65"] = "\163\x65\x73\163\151\157\156\56\141\165\164\x6f\x5f\x73\164\141\162\164\345\274\200\345\x90\xaf"; goto NEIMU; dCR1C: we7_setcookie("\x63\144\x6e\137\x73\157\165\x72\x63\145\x5f\163\x69\172\x65", $source_size); goto Ur1Qm; eXUUW: uYPvz: goto sxlDs; hgiyd: GKHBf: goto Fvm9k; pCqEB: function we7_setcookie($key, $value) { goto sU0Fx; sU0Fx: $secure = $_SERVER["\x53\x45\122\126\105\122\137\120\117\122\124"] == 443 ? 1 : 0; goto kx5cq; FqNa4: $value = json_encode($value); goto H73Tf; kx5cq: if (!is_array($value)) { goto YIbAq; } goto FqNa4; H73Tf: YIbAq: goto rTWFF; rTWFF: return setcookie(COOKIE_PRE . $key, $value, 0, '', '', $secure, true); goto e4ipJ; e4ipJ: } goto JoMvL; flZ63: $source_size = $header_array["\103\157\156\x74\x65\156\164\x2d\114\x65\x6e\x67\x74\x68"]; goto dCR1C; qZ8OR: if (!($action == "\x64\157\167\x6e\x6c\x6f\141\x64")) { goto j5gqL; } goto pkG82; WHuTR: $register_site_result = we7_register_site(); goto ZfkCt; UIrHo: DgYOX: goto x2OV0; JhscA: mhiQQ: goto ZZToU; iVGPZ: qRNev: goto FX1lQ; APdBN: function we7_error($num, $message = "\163\165\x63\143\145\163\x73") { $num = intval($num); return json_encode(array("\x65\162\x72\x6e\x6f" => $num, "\x64\x61\164\141" => $message)); } goto pCqEB; N0S_F: function local_config() { $cfg = "\74\x3f\160\x68\160\15\xa\x64\x65\146\x69\156\145\144\x28\x27\x49\x4e\137\x49\101\47\x29\40\x6f\x72\x20\145\170\x69\x74\x28\x27\x41\143\x63\x65\x73\163\40\x44\x65\x6e\151\x65\144\x27\51\73\xd\xa\xd\12\44\x63\x6f\x6e\x66\151\x67\x20\x3d\40\141\x72\x72\141\x79\x28\x29\73\xd\12\xd\12\x24\x63\157\156\x66\151\x67\133\x27\144\x62\x27\x5d\x5b\47\x6d\x61\163\x74\145\162\47\135\133\47\150\x6f\163\164\47\x5d\x20\75\x20\x27\x7b\144\142\55\x73\145\162\x76\x65\162\175\47\73\15\xa\44\143\157\x6e\x66\x69\147\x5b\47\144\x62\47\x5d\x5b\x27\155\x61\163\164\x65\x72\47\135\x5b\x27\x75\x73\x65\162\156\x61\155\x65\x27\x5d\40\75\x20\47\x7b\x64\142\x2d\x75\x73\x65\162\156\141\x6d\x65\x7d\x27\73\xd\12\x24\143\157\156\146\151\x67\x5b\x27\x64\x62\47\135\x5b\x27\155\141\x73\164\145\x72\47\x5d\133\47\x70\141\x73\163\167\x6f\162\x64\47\135\x20\75\x20\47\x7b\x64\142\55\160\141\163\x73\x77\x6f\x72\x64\175\47\73\xd\xa\44\143\x6f\x6e\x66\x69\x67\x5b\47\x64\142\x27\x5d\133\x27\155\x61\x73\164\x65\162\x27\135\133\x27\x70\x6f\x72\164\x27\x5d\40\x3d\x20\x27\x7b\144\142\x2d\160\157\x72\x74\x7d\47\73\15\12\x24\x63\157\x6e\x66\x69\147\x5b\x27\x64\142\47\135\x5b\x27\x6d\141\x73\164\145\x72\x27\135\x5b\47\144\141\164\x61\x62\141\x73\145\47\135\x20\75\x20\47\x7b\144\x62\55\x6e\141\155\x65\175\x27\x3b\15\xa\x24\x63\x6f\156\x66\x69\147\x5b\x27\x64\142\x27\x5d\x5b\47\x6d\141\163\164\145\x72\x27\x5d\x5b\47\x63\x68\x61\x72\x73\145\164\x27\x5d\x20\x3d\x20\47\x75\x74\x66\x38\47\x3b\xd\12\x24\x63\157\x6e\x66\151\147\133\47\144\x62\x27\135\133\47\155\141\x73\x74\x65\x72\x27\x5d\133\x27\160\143\x6f\x6e\156\x65\143\164\x27\x5d\40\75\40\x30\x3b\xd\12\44\143\x6f\156\146\151\147\x5b\x27\x64\x62\x27\135\133\x27\x6d\x61\x73\x74\145\x72\x27\x5d\x5b\x27\164\141\x62\x6c\x65\x70\162\x65\x27\x5d\x20\75\40\x27\x7b\x64\142\55\164\x61\142\154\x65\x70\162\x65\175\47\x3b\xd\12\15\12\x24\143\x6f\156\x66\x69\147\x5b\47\144\142\47\135\133\47\163\154\141\x76\x65\x5f\x73\x74\x61\164\x75\x73\47\135\40\x3d\x20\x66\141\154\163\145\73\15\xa\44\143\157\156\146\x69\147\133\x27\x64\142\47\135\x5b\47\163\x6c\141\x76\x65\47\x5d\x5b\x27\x31\47\135\x5b\47\x68\157\x73\164\x27\x5d\40\x3d\x20\47\x27\x3b\xd\12\44\x63\157\x6e\146\151\147\133\x27\x64\x62\47\135\x5b\x27\163\154\141\166\145\x27\135\x5b\x27\x31\47\x5d\133\x27\165\x73\x65\x72\x6e\141\155\145\47\x5d\40\x3d\x20\x27\47\73\15\12\x24\x63\157\x6e\146\151\147\x5b\47\x64\x62\47\x5d\133\47\163\154\141\x76\145\x27\x5d\133\x27\61\47\135\133\47\160\141\x73\x73\167\157\162\x64\47\135\x20\x3d\40\47\x27\73\xd\xa\44\143\x6f\156\x66\x69\147\133\x27\x64\x62\47\135\133\47\x73\154\141\166\145\x27\x5d\x5b\47\x31\47\135\133\x27\x70\x6f\x72\x74\47\135\40\x3d\x20\47\x33\63\x30\x37\x27\x3b\xd\12\44\143\x6f\x6e\146\151\x67\x5b\x27\x64\x62\x27\135\x5b\x27\x73\x6c\x61\166\x65\x27\x5d\133\x27\x31\47\135\x5b\47\x64\x61\x74\141\142\141\x73\145\x27\135\40\75\x20\47\47\73\15\12\x24\143\x6f\156\146\151\x67\x5b\x27\x64\x62\x27\135\x5b\47\x73\154\141\x76\x65\x27\x5d\133\x27\x31\x27\x5d\x5b\x27\143\x68\x61\x72\x73\145\164\x27\x5d\40\x3d\x20\x27\165\164\146\70\47\73\15\12\x24\x63\x6f\x6e\x66\x69\x67\133\x27\144\x62\47\135\133\47\x73\x6c\141\x76\x65\47\x5d\x5b\47\61\47\135\x5b\47\160\x63\157\x6e\156\x65\143\x74\x27\135\x20\x3d\x20\60\x3b\xd\xa\44\x63\157\156\x66\151\x67\x5b\47\144\142\x27\x5d\x5b\47\163\x6c\141\x76\x65\47\x5d\x5b\x27\61\x27\x5d\133\x27\164\x61\142\154\x65\160\x72\x65\x27\135\40\75\40\x27\x69\155\163\x5f\x27\x3b\15\xa\x24\143\x6f\156\x66\x69\147\x5b\x27\144\142\47\135\x5b\47\x73\x6c\141\166\145\47\x5d\133\x27\61\x27\135\133\47\x77\145\x69\147\150\x74\47\135\x20\x3d\40\60\73\xd\xa\xd\xa\44\x63\x6f\156\146\151\x67\x5b\x27\x64\x62\47\x5d\x5b\x27\x63\x6f\155\x6d\157\x6e\47\x5d\133\47\163\x6c\x61\x76\145\x5f\x65\170\x63\145\x70\x74\x5f\164\x61\x62\x6c\x65\x27\135\40\75\40\141\x72\x72\141\x79\x28\x27\x63\157\x72\145\137\163\145\163\163\x69\x6f\x6e\x73\x27\51\x3b\15\xa\15\12\57\57\x20\x2d\x2d\55\55\55\55\x2d\55\55\55\x2d\x2d\55\55\x2d\55\x2d\x2d\x2d\55\55\55\x2d\55\55\55\x20\40\103\117\x4e\x46\x49\x47\x20\x43\x4f\117\x4b\111\x45\40\x20\55\55\x2d\x2d\55\55\55\55\x2d\55\x2d\x2d\55\55\x2d\55\x2d\x2d\x2d\55\x2d\55\x2d\x2d\x2d\x2d\x2d\x20\x2f\x2f\15\12\x24\x63\x6f\156\x66\x69\x67\133\x27\143\157\x6f\x6b\x69\x65\x27\135\133\x27\160\162\145\47\x5d\40\x3d\x20\x27\173\x63\157\x6f\153\x69\145\x70\x72\145\175\47\x3b\xd\12\44\x63\x6f\156\146\x69\147\x5b\x27\143\x6f\x6f\153\x69\145\47\x5d\133\47\x64\157\155\141\151\156\x27\x5d\x20\75\x20\47\47\x3b\xd\xa\x24\143\x6f\x6e\146\151\x67\x5b\47\x63\157\157\x6b\x69\145\x27\x5d\133\x27\x70\141\164\150\47\x5d\40\75\x20\47\x2f\47\73\xd\12\15\xa\x2f\x2f\x20\x2d\55\x2d\55\55\x2d\55\55\x2d\x2d\55\55\55\x2d\x2d\55\55\x2d\x2d\x2d\x2d\x2d\55\x2d\55\x2d\40\40\x43\117\x4e\x46\x49\x47\x20\123\105\x54\124\111\x4e\107\x20\x20\55\x2d\x2d\55\x2d\x2d\55\x2d\x2d\55\x2d\55\x2d\55\55\x2d\x2d\x2d\x2d\55\55\x2d\55\55\x2d\55\55\x20\x2f\57\15\xa\x24\x63\157\x6e\146\151\x67\133\x27\163\x65\164\x74\x69\x6e\147\x27\135\133\47\143\x68\141\162\x73\145\x74\x27\135\x20\x3d\40\x27\x75\164\x66\x2d\x38\x27\73\15\12\44\x63\x6f\156\x66\x69\x67\133\x27\x73\x65\164\x74\151\x6e\147\47\x5d\x5b\x27\x63\141\143\x68\145\x27\x5d\x20\x3d\40\x27\x6d\x79\163\161\154\47\73\xd\12\x24\x63\x6f\156\146\x69\x67\x5b\x27\x73\x65\164\164\x69\156\x67\47\x5d\x5b\47\164\151\155\x65\x7a\x6f\x6e\x65\47\135\40\75\40\x27\101\x73\x69\x61\x2f\x53\x68\141\156\147\150\x61\x69\47\x3b\15\xa\x24\x63\157\x6e\x66\151\147\x5b\x27\x73\145\x74\164\x69\x6e\147\47\135\133\x27\155\145\x6d\x6f\162\171\137\154\151\x6d\x69\164\47\135\40\x3d\x20\x27\x32\65\66\115\47\x3b\xd\xa\x24\143\x6f\156\x66\151\x67\x5b\47\163\x65\164\x74\151\x6e\x67\47\x5d\133\47\x66\151\154\x65\155\x6f\144\145\x27\x5d\40\x3d\40\x30\x36\x34\x34\x3b\xd\12\x24\x63\157\156\146\151\x67\x5b\47\163\x65\x74\x74\x69\x6e\x67\x27\x5d\x5b\47\x61\x75\x74\150\153\145\x79\47\135\x20\x3d\40\x27\x7b\x61\x75\164\150\153\x65\x79\x7d\47\73\15\xa\44\143\x6f\156\x66\151\147\x5b\x27\x73\x65\164\164\151\156\147\47\135\x5b\47\x66\157\x75\156\x64\145\x72\47\x5d\x20\75\40\x27\61\x27\73\15\xa\x24\143\x6f\x6e\146\x69\147\x5b\47\163\145\x74\x74\151\x6e\x67\47\x5d\x5b\47\144\145\x76\x65\154\x6f\160\155\x65\156\164\x27\135\x20\x3d\x20\60\73\15\xa\x24\143\157\156\146\151\147\133\47\163\x65\164\x74\151\x6e\147\47\135\x5b\x27\162\145\x66\145\162\162\x65\162\x27\135\x20\x3d\x20\60\x3b\xd\xa\xd\12\x2f\x2f\x20\55\55\x2d\x2d\x2d\x2d\x2d\55\55\x2d\55\55\55\x2d\x2d\55\55\55\x2d\x2d\x2d\55\x2d\x2d\x2d\55\40\40\x43\x4f\x4e\x46\x49\107\40\x55\x50\x4c\x4f\101\104\40\x20\x2d\55\55\x2d\55\55\x2d\x2d\55\55\x2d\x2d\x2d\x2d\55\55\55\x2d\x2d\x2d\x2d\x2d\55\55\x2d\55\55\x20\57\57\15\xa\44\x63\157\x6e\146\x69\x67\133\47\x75\x70\154\157\x61\144\47\x5d\x5b\47\x69\x6d\x61\x67\145\47\x5d\133\47\145\170\164\x65\156\164\x69\x6f\156\x73\x27\x5d\x20\75\40\141\162\162\x61\171\x28\x27\x67\151\x66\47\54\40\x27\x6a\160\147\47\x2c\x20\47\152\x70\145\147\47\54\x20\x27\x70\x6e\147\x27\51\x3b\15\xa\44\143\157\156\x66\x69\147\133\47\165\160\154\x6f\141\x64\47\x5d\133\x27\151\155\141\147\145\x27\135\133\47\x6c\151\155\x69\x74\47\135\x20\75\40\65\x30\60\x30\x3b\15\xa\x24\143\157\156\146\x69\x67\x5b\47\x75\160\154\x6f\x61\x64\x27\135\133\47\x61\x74\x74\x61\x63\x68\x64\151\162\x27\x5d\x20\x3d\x20\47\173\x61\x74\x74\x61\x63\x68\144\x69\x72\175\x27\x3b\xd\xa\x24\143\x6f\156\x66\x69\147\x5b\x27\x75\160\x6c\157\141\144\x27\135\133\47\141\x75\144\151\x6f\x27\x5d\x5b\47\145\x78\x74\x65\x6e\164\151\157\156\163\x27\135\40\x3d\40\141\x72\x72\141\x79\x28\x27\x6d\x70\x33\x27\x29\x3b\xd\xa\44\x63\x6f\x6e\x66\x69\147\x5b\47\165\x70\x6c\157\x61\144\47\x5d\133\x27\x61\x75\144\151\157\47\x5d\133\x27\154\151\x6d\151\x74\47\x5d\40\75\x20\x35\x30\x30\x30\x3b\15\xa\xd\12\x2f\x2f\40\55\55\55\55\x2d\55\x2d\x2d\x2d\x2d\55\55\x2d\55\55\55\55\x2d\x2d\55\x2d\55\x2d\x2d\x2d\55\40\x20\103\117\x4e\106\x49\107\40\115\105\115\103\x41\103\x48\x45\x20\40\x2d\x2d\x2d\x2d\55\55\x2d\55\x2d\x2d\55\x2d\x2d\55\55\x2d\x2d\55\55\x2d\55\x2d\x2d\x2d\x2d\55\x2d\x20\x2f\57\xd\12\44\143\x6f\x6e\146\x69\x67\133\x27\x73\145\x74\164\151\x6e\147\x27\135\133\47\155\x65\x6d\143\x61\x63\x68\145\47\x5d\x5b\x27\x73\145\x72\166\x65\x72\x27\135\x20\75\x20\47\x27\73\xd\xa\x24\x63\157\x6e\x66\151\147\133\x27\x73\x65\164\164\151\156\x67\47\135\133\47\x6d\145\x6d\143\x61\143\x68\145\47\x5d\133\47\x70\157\162\164\47\135\x20\x3d\40\x31\x31\62\61\x31\x3b\15\xa\x24\143\157\x6e\x66\151\x67\x5b\47\163\145\164\164\x69\156\x67\x27\x5d\133\47\x6d\x65\155\x63\x61\x63\x68\x65\47\135\x5b\x27\x70\143\157\x6e\156\145\143\164\x27\x5d\x20\x3d\x20\61\x3b\15\12\x24\x63\x6f\156\146\x69\x67\x5b\47\x73\145\x74\164\151\156\147\x27\x5d\x5b\x27\x6d\145\x6d\143\x61\x63\150\145\x27\x5d\x5b\47\164\151\155\x65\x6f\165\164\47\135\x20\75\40\x33\60\73\15\12\44\x63\157\x6e\x66\151\147\133\47\163\x65\x74\164\151\156\x67\47\135\133\47\x6d\145\x6d\143\141\143\150\145\x27\x5d\133\47\163\145\x73\x73\151\157\156\x27\135\40\75\40\61\73\15\12\15\12\x2f\57\x20\55\55\55\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\x2d\x2d\55\x2d\x2d\x2d\x2d\x2d\55\x2d\55\40\x20\x43\117\116\x46\x49\x47\x20\120\122\x4f\130\x59\40\40\x2d\55\55\55\55\55\x2d\55\x2d\55\55\x2d\55\x2d\55\55\x2d\55\x2d\x2d\x2d\x2d\55\55\x2d\x2d\x2d\40\57\x2f\xd\12\x24\143\157\x6e\x66\151\147\133\x27\x73\145\x74\164\151\156\x67\x27\x5d\x5b\47\160\x72\x6f\x78\171\47\x5d\x5b\47\150\157\x73\x74\47\x5d\x20\75\40\47\47\73\xd\12\x24\x63\x6f\156\146\151\147\x5b\47\163\145\164\164\x69\156\147\47\135\x5b\x27\x70\162\157\x78\x79\x27\x5d\x5b\x27\x61\x75\164\150\47\135\x20\x3d\x20\x27\x27\x3b"; return trim($cfg); } goto y3RFn; wgagd: exit(we7_error(0, array("\x74\x6f\164\141\x6c" => 1))); goto OnMEt; f038g: $ret["\162\157\x6f\164"]["\x6f\153"] = local_writeable(IA_INSTALL_ROOT); goto lC6TV; tR7pS: if ($data["\x65\162\x72\157\162"] == 401) { goto I62ua; } goto PAG6w; AkAsC: FeHP6: goto A6zEv; vOA9H: $action = trim($_GET["\x73\164\x65\x70"]); goto duRRV; jRKoe: $database_result = we7_db(); goto e1XWt; v7OgF: if ($data["\x65\162\162\157\x72"] == 401) { goto DbzYs; } goto PxE2T; Yd5OB: if (file_exists(IA_INSTALL_ROOT . "\x2f\151\156\x64\x65\170\56\x70\150\x70") && is_dir(IA_INSTALL_ROOT . "\57\x77\145\142") && file_exists($verfile) && file_exists($dbfile)) { goto lk_J3; } goto dSikw; zqmhV: $ret["\x66\x6f\160\145\x6e"]["\162\145\163\165\x6c\164"] = "\344\xb8\x8d\346\224\xaf\xe6\214\201\146\x6f\x70\x65\x6e"; goto cGASQ; xRvhA: exit; goto RdMyp; cIEkK: $database_result = we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix); goto jivOC; zRbKV: exit; goto j6tUI; Ry6mA: fclose($hostfile); goto RlpRd; pkB6l: dd4aR: goto xv7KV; sxlDs: if (!($finished === true)) { goto Ua47I; } goto p3aeI; X0rVk: if (!($action == "\x63\x68\145\x63\153\x5f\163\151\x74\145")) { goto sjg29; } goto DQhXe; r109B: function we7_get_accesstoken() { goto CH1DR; LagBn: pXn7N: goto anegN; uQEgg: $accesstoken = json_decode($cookie_accesstoken, true); goto V3s_P; CH1DR: $cookie_accesstoken = we7_getcookie("\x61\143\x63\x65\x73\x73\x74\x6f\153\x65\x6e"); goto uQEgg; V3s_P: if (!(!empty($accesstoken) && !empty($accesstoken["\141\x63\x63\145\x73\x73\124\x6f\x6b\145\x6e"]) && $accesstoken["\x65\x78\160\x69\x72\x65\x54\151\155\x65"] > time())) { goto pXn7N; } goto kka_Z; kka_Z: return $accesstoken["\141\143\x63\145\x73\163\124\x6f\153\145\x6e"]; goto LagBn; anegN: return ''; goto AqjTe; AqjTe: } goto NrG3u; DGtoJ: G4SjL: goto By5NI; QGu2H: $ret["\144\x61\164\141"]["\x6e\x61\x6d\x65"] = "\144\x61\x74\141\xe7\x9b\xae\xe5\275\225\345\206\x99\345\x85\xa5"; goto k8sKr; BfkeF: if (!($action == "\x65\x6e\x76\x69\x72\157\156\x6d\x65\x6e\x74")) { goto PN5yg; } goto GqrQj; duRRV: $action = in_array($action, $actions) ? $action : ''; goto r5UCa; R1pww: define("\x43\117\117\x4b\x49\105\x5f\x50\x52\105", "\x77\145\67\151\x6e\x73\x74\x61\x6c\154\x5f"); goto zEM7Q; By5NI: exit(we7_error(0, $chunk_num)); goto tBzr8; OHvU1: if (!(is_array($data) && isset($data["\x65\x72\x72\157\162"]))) { goto FeHP6; } goto QQCVh; k8sKr: $ret["\144\x61\x74\x61"]["\x72\145\x73\165\x6c\x74"] = "\x64\141\164\x61\xe7\233\xae\xe5\xbd\225\346\x97\xa0\xe6\263\225\345\206\x99\345\x85\245"; goto cUrrb; eJy8v: exit; goto B0yAU; YQS8i: $finished = true; goto HSW7A; f3vfG: $site = array("\153\145\x79" => $auth["\x6b\x65\171"], "\x74\x6f\153\145\x6e" => $auth["\x74\157\x6b\145\x6e"], "\x75\x72\x6c" => $siteroot); goto MOKL8; PjVod: $post = file_get_contents("\160\150\x70\x3a\x2f\57\x69\156\x70\x75\x74"); goto PWy2Z; P73qW: $db_password = trim($_POST["\x70\141\x73\163\167\x6f\162\144"]); goto EG1OG; ZZToU: if (!($username != "\x61\x64\155\x69\x6e" || $password != "\x31\62\63\64\x35\x36")) { goto p7xJR; } goto DeO9x; piLZ1: QFh8C: goto yS4rW; yarW3: define("\101\120\x49\137\117\x41\125\x54\110\137\114\117\x47\111\x4e\137\125\122\114", API_HOST . "\x2f\157\x61\x75\x74\x68\x2f\154\157\147\151\156\55\165\x72\x6c\57\x69\156\x64\145\170"); goto gZUND; ekuX7: exit(we7_error(432, "\xe8\257\xb7\345\x85\210\xe8\x8e\xb7\xe5\x8f\226\xe5\x88\x86\345\x8d\xb7\xe6\x80\xbb\xe9\207\x8f\x2e")); goto Vb30B; vN1QA: $actions = array("\143\x68\x65\x63\x6b\x5f\x73\x69\164\145", "\x6f\141\165\164\x68", "\145\x6e\x76\x69\162\157\156\x6d\145\x6e\164", "\x69\156\x73\164\x61\154\154", "\143\x68\x75\156\153\164\157\164\141\x6c", "\144\157\x77\x6e\x6c\157\141\144\137\x70\145\x72\143\145\156\164", "\x64\x6f\167\x6e\x6c\157\x61\x64", "\x69\156\x73\164\141\154\154", "\x72\x65\147\x69\163\164\x65\162\137\x63\x61\154\154\x62\x61\143\153", "\154\x6f\x67\151\x6e"); goto vOA9H; tBzr8: if (!($chunk_num > $chunk_total)) { goto rQCp9; } goto s7Sfo; DrbZU: $dbfile = IA_INSTALL_ROOT . "\x2f\144\x61\x74\x61\57\144\142\56\160\x68\160"; goto Yd5OB; A6zEv: we7_setcookie("\x61\143\x63\x65\x73\x73\164\157\153\145\x6e", $data); goto qEUVj; r6XHf: $db_username = trim($_POST["\165\163\x65\162\x6e\141\155\145"]); goto P73qW; PzPUi: $ret["\x61\163\160\x5f\x74\141\147\163"]["\x6e\141\155\x65"] = "\x61\163\x70\137\x74\x61\147\x73"; goto MljPG; ROupj: zSM2o: goto Hna9N; uLqrN: $ret["\156\x65\164\167\157\x72\153\137\145\x6e\x61\142\154\x65\x64"]["\146\141\151\x6c\145\x64"] = true; goto hUSaj; bVVJl: HI2O_: goto AiRyM; rosDr: ob_start(); goto hODND; bOCdZ: exit(we7_error(0, array("\164\157\164\x61\x6c" => $data["\x63\150\165\x6e\x6b\137\164\x6f\164\141\154"]))); goto Q4uz4; ztyKU: goto Mc7Wv; goto eXUUW; QQCVh: exit(we7_error(400, "\350\216\267\345\x8f\x96\141\143\143\145\163\x73\x74\x6f\153\145\x6e\345\xa4\xb1\350\264\xa5\xef\274\214\xe8\257\xb7\xe9\x87\x8d\xe6\226\xb0\xe7\x99\273\345\xbd\225\56")); goto AkAsC; oc4OV: $output = fread($hostfile, 8192); goto Rac78; p3aeI: $handle_result = we7_handle_chunk(); goto hI4a5; dwVoB: clearstatcache(); goto FN8XN; hI4a5: if (!($handle_result !== true)) { goto VKkhC; } goto Oo0s6; xV60Y: uO3hI: goto EdEMt; OnMEt: rRVz3: goto w1u5q; PAG6w: exit(we7_error(400, $chunk_num)); goto a8Vic; m7LZe: HtGIN: goto WECym; hUSaj: $ret["\156\x65\164\167\157\162\153\x5f\145\156\x61\x62\154\x65\144"]["\156\x61\155\x65"] = "\345\244\x96\xe7\xbd\x91\345\x8f\xaf\xe8\256\277\xe9\x97\256\346\x80\xa7"; goto Pa033; Z3Agy: function we7_http_request($url, $post = array()) { goto aSPir; gzdcJ: curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 60); goto aqEIb; IbZQG: if (!$post) { goto kofI_; } goto D3Z6g; N52Xh: goto W1iQU; goto WQlkT; xGu_z: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto xqqn5; xswze: W1iQU: goto Irblf; q9KrV: curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER["\x48\x54\124\120\x5f\125\x53\x45\122\x5f\101\x47\x45\x4e\124"]); goto JiPaj; WTqqm: curl_setopt($ch, CURLOPT_URL, $url); goto xGu_z; W_Zv3: $error = curl_error($ch); goto OLsPq; WQlkT: UETKf: goto Cjd4e; aSPir: $ch = curl_init(); goto WTqqm; g9ZhR: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); goto w8Dr6; xqqn5: @curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); goto wKoD8; PyYR2: kofI_: goto gzdcJ; Sm5SW: return we7_http_response_parse($data); goto N52Xh; OLsPq: curl_close($ch); goto rXl0u; XQIX5: $errno = curl_errno($ch); goto W_Zv3; rXl0u: if ($errno || empty($data)) { goto UETKf; } goto Sm5SW; JiPaj: $data = curl_exec($ch); goto XQIX5; wKoD8: curl_setopt($ch, CURLOPT_HEADER, 1); goto IbZQG; w8Dr6: curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); goto q9KrV; onm8X: curl_setopt($ch, CURLOPT_POSTFIELDS, $post); goto PyYR2; aqEIb: curl_setopt($ch, CURLOPT_TIMEOUT, 60); goto g9ZhR; D3Z6g: curl_setopt($ch, CURLOPT_POST, 1); goto onm8X; Cjd4e: return array("\x65\x72\162\x6e\x6f" => $errno, "\x65\x72\162\157\x72" => $error); goto xswze; Irblf: } goto f7kg4; PzpBp: exit(we7_error(420, $database_result)); goto ROupj; x2OV0: we7_setcookie("\162\x65\147\x69\x73\x74\145\x72\145\x64\x5f\x73\x69\x74\x65", 1); goto AAgxp; CiS0u: $forward = $data["\x75\x72\x6c"]; goto o_dnT; urUXQ: exit(we7_error(0, "\x73\x75\143\x63\145\x73\x73")); goto RmBVH; Il2iu: Mc7Wv: goto kTcWN; jRdla: gAbOU: goto liTy9; u8FOa: if (!($action == "\162\145\147\151\163\x74\145\162\x5f\x63\141\x6c\154\142\x61\143\x6b")) { goto dbp21; } goto PjVod; RNj_D: $is_https = $_SERVER["\x53\x45\x52\126\105\x52\137\120\117\122\x54"] == 443 || isset($_SERVER["\x48\124\x54\120\x53"]) && strtolower($_SERVER["\x48\x54\124\120\x53"]) != "\157\146\146" || strtolower($_SERVER["\x48\124\x54\120\x5f\x58\137\x46\x4f\122\127\101\x52\x44\105\x44\x5f\x50\x52\117\124\117"]) == "\x68\x74\164\160\163" || strtolower($_SERVER["\x48\x54\124\x50\x5f\x58\x5f\x43\114\111\105\x4e\124\x5f\x53\x43\110\105\x4d\105"]) == "\x68\x74\164\160\x73" ? true : false; goto c1prc; PjNXq: goto bxNHP; goto UIrHo; FX1lQ: if (empty($result)) { goto ls3Bl; } goto J2OOf; asRdl: require IA_INSTALL_ROOT . "\x2f\146\x72\141\x6d\x65\x77\x6f\x72\153\x2f\142\157\157\x74\x73\164\162\141\160\x2e\151\x6e\x63\56\160\x68\x70"; goto f3vfG; Uxa5n: Vs0L1: goto Ffizd; uJVb7: exit(we7_error(0, $result)); goto sCEyj; Ur1Qm: KwfDy: goto pfOh_; M3EcK: $filename = IA_INSTALL_ROOT . "\57\143\150\x75\x6e\x6b\137" . $chunk_num; goto oUWov; qEUVj: header("\114\x6f\x63\x61\164\x69\157\156\72\40" . $siteroot . "\x2f\151\156\163\x74\141\154\154\56\x70\150\x70"); goto o8r0P; zXJjI: define("\101\x50\x49\137\x53\111\x54\x45\137\x52\105\x47\x49\x53\x54\x45\x52\x5f\x45\130\111\x53\x54", API_HOST . "\57\x73\x69\x74\x65\57\162\x65\x67\x69\163\164\145\x72\57\145\x78\x69\x73\164"); goto yarW3; zrKs7: function we7_finish() { goto YVmoj; L7Dun: $i = 1; goto acNGC; dicPq: setting_upgrade_version(we7_getcookie("\151\x6d\x73\137\x66\141\155\x69\x6c\171"), IMS_VERSION, IMS_RELEASE_DATE); goto aotL3; xYnPl: N_BOY: goto D70UU; YVmoj: global $_W; goto yh0CF; yh0CF: $chunk_num = we7_getcookie("\x63\x68\165\x6e\x6b\x5f\164\x6f\164\141\x6c"); goto nEVoF; hmD7b: @unlink(IA_INSTALL_ROOT . "\57\x64\141\164\x61\57\x64\x62\56\154\157\x63\153"); goto nIlcI; dZxc1: require IA_INSTALL_ROOT . "\57\146\162\141\155\145\167\x6f\x72\x6b\57\142\157\157\164\x73\x74\x72\x61\160\x2e\151\x6e\143\x2e\x70\x68\160"; goto U3nb6; tp46p: cache_build_users_struct(); goto eWhYA; aotL3: we7_setcookie("\151\155\163\x5f\146\x61\x6d\x69\x6c\x79", '', -10); goto GnIro; i9myT: define("\x49\x4e\137\123\131\x53", true); goto dZxc1; G2dlP: cache_build_frame_menu(); goto X32j2; D70UU: $i++; goto CrXPm; U3nb6: require IA_INSTALL_ROOT . "\57\x77\x65\142\57\x63\x6f\x6d\x6d\157\156\57\142\x6f\x6f\164\163\x74\x72\141\160\56\x73\x79\163\56\x69\156\x63\x2e\160\150\160"; goto epItF; GnIro: cloud_reset_siteinfo(); goto G2dlP; QhMF6: @unlink("\x2e\x2f\143\x68\165\156\153\x5f" . $i); goto xYnPl; epItF: $_W["\165\151\144"] = $_W["\x69\163\146\157\165\x6e\x64\x65\162"] = 1; goto u4KT6; xfSzt: load()->web("\x74\x65\155\160\x6c\141\x74\x65"); goto HaQbQ; YQ_u4: @unlink(IA_INSTALL_ROOT . "\x2f\x69\x6e\x69\x74\56\163\150"); goto ixAWk; K2DHT: @unlink(IA_INSTALL_ROOT . "\57\144\x61\x74\141\57\144\142\x2e\160\x68\x70"); goto hmD7b; X32j2: cache_build_setting(); goto tp46p; o26q4: load()->model("\x63\x6c\157\165\x64"); goto dicPq; DTEAw: load()->model("\143\x61\143\x68\145"); goto o26q4; rs30U: we7_setcookie("\x70\141\x63\x6b\141\147\x65\x5f\155\x64\65", '', -10); goto snQlu; nIlcI: @unlink(IA_INSTALL_ROOT . "\57\143\157\x6e\163\157\154\x65\56\160\x68\x70"); goto YQ_u4; WmXIW: if (!($i <= $chunk_num)) { goto DYzAl; } goto QhMF6; HaQbQ: load()->model("\163\145\x74\x74\x69\156\x67"); goto DTEAw; acNGC: q254_: goto WmXIW; ecQ6n: DYzAl: goto rs30U; u4KT6: load()->web("\143\x6f\x6d\x6d\157\x6e"); goto xfSzt; CrXPm: goto q254_; goto ecQ6n; snQlu: we7_setcookie("\x63\150\165\x6e\153\137\x74\157\x74\x61\154", '', -10); goto K2DHT; ixAWk: @unlink(IA_INSTALL_ROOT . "\x2f\x63\x68\x61\x6e\x67\145\56\x73\150"); goto i9myT; nEVoF: @unlink("\56\57\x77\x65\67\x73\157\x75\162\x63\x65\56\172\151\x70"); goto L7Dun; KcV3L: return true; goto DYe9C; eWhYA: cache_build_module_subscribe_type(); goto KcV3L; DYe9C: } goto Z3Agy; Hqp1L: foreach ($ret as $key => $value) { goto lenS0; lMyzU: $value["\x68\141\x6e\144\x6c\x65"] = !empty($value["\x68\141\x6e\x64\x6c\x65"]) ? $value["\150\x61\x6e\144\154\x65"] : "\x68\x74\x74\160\163\72\x2f\57\x62\x62\x73\x2e\167\145\67\x2e\x63\143\x2f\164\150\162\145\x61\144\55\63\x35\x36\64\x2d\61\x2d\61\x2e\150\x74\x6d\154"; goto Flm6p; VA2T9: UHlgb: goto Qewh2; Flm6p: $result[] = $value; goto VA2T9; oqOqq: TsFf1: goto kBye1; e6Zd8: goto X74ei; goto oqOqq; lenS0: if (!(version_compare(PHP_VERSION, "\67\56\x30\56\x30") >= 0 && in_array($key, array("\155\x63\162\171\x70\164", "\141\x6c\x77\x61\171\163\137\160\157\x70\165\154\x61\x74\x65\137\162\141\167\137\160\157\163\x74\137\144\x61\x74\x61")))) { goto TsFf1; } goto e6Zd8; Qewh2: X74ei: goto dyBza; kBye1: if (!$value["\146\x61\151\x6c\145\144"]) { goto UHlgb; } goto lMyzU; dyBza: } goto iVGPZ; Hna9N: touch(IA_INSTALL_ROOT . "\x2f\144\141\x74\x61\x2f\144\x62\x2e\154\157\143\x6b"); goto usPlE; hNxNR: exit(we7_error(433, "\x61\x63\143\x65\x73\163\164\157\x6b\145\156\40\x65\170\x70\x69\162\x65\x64\x2e")); goto rGWcZ; czG44: exit(we7_error(0, "\x73\x75\143\x63\x65\163\x73")); goto Uxa5n; cazdJ: function local_writeable($dir) { goto ZaAdh; VGvlk: $writeable = 1; goto Gz2x3; tI2Dj: goto fkbhh; goto cd2mE; DNMMc: fclose($fp); goto rGO9R; BUVuq: $writeable = 0; goto tI2Dj; ocBVE: if (is_dir($dir)) { goto cyJsU; } goto sLr77; ZaAdh: $writeable = 0; goto ocBVE; h6zAo: return $writeable; goto aAo0s; rGO9R: unlink("{$dir}\57\x74\x65\x73\x74\56\x74\x78\x74"); goto VGvlk; wYl2T: f8V3g: goto h6zAo; Gz2x3: fkbhh: goto wYl2T; yB6FU: if ($fp = fopen("{$dir}\x2f\x74\145\163\164\x2e\164\x78\x74", "\x77")) { goto MdLVx; } goto BUVuq; sLr77: @mkdir($dir, 0777); goto fB9xe; ot4dx: if (!is_dir($dir)) { goto f8V3g; } goto yB6FU; cd2mE: MdLVx: goto DNMMc; fB9xe: cyJsU: goto ot4dx; aAo0s: } goto QWdbr; ysrCc: cELD9: goto vNUUj; e1XWt: if (!($database_result !== true)) { goto zSM2o; } goto PzpBp; EdEMt: $post = array("\141\x63\143\x65\163\x73\x5f\164\x6f\x6b\x65\156" => $accesstoken, "\143\150\165\156\153" => $chunk_num); goto Nzd1I; ZkYVl: p7xJR: goto yTVKm; K1L_f: header("\x63\x6f\156\x74\x65\x6e\x74\55\x74\171\x70\x65\x3a\x74\145\x78\164\x2f\150\x74\155\x6c\73\x63\150\x61\x72\x73\x65\164\75\x75\164\x66\55\70"); goto JCOqn; zQ23H: jQxLf: goto g373g; je5Rf: $ret["\x61\154\167\141\x79\x73\137\160\157\160\165\x6c\x61\164\x65\137\x72\x61\167\x5f\x70\x6f\x73\164\137\x64\141\x74\x61"]["\x66\x61\151\x6c\x65\x64"] = @ini_get("\141\154\167\141\x79\x73\x5f\x70\x6f\160\x75\154\x61\x74\145\x5f\162\x61\x77\137\160\x6f\163\x74\x5f\x64\141\x74\141") != "\55\x31"; goto nL7uz; JceXq: $i++; goto ztyKU; yltPB: DmGN7: goto i9sri; dFUYq: $action = "\143\150\x65\143\153\x5f\163\151\x74\x65"; goto eKtMt; DQhXe: $data = we7_request_api(API_SITE_REGISTER_EXIST, array("\x75\x72\x6c" => $siteroot)); goto Mylb9; M09Iy: $hostfile = fopen($cdn_source_file, "\x72\142"); goto Raj8x; PWy2Z: $auth = @json_decode(base64_decode($post), true); goto apuvc; XBZ0n: touch(IA_INSTALL_ROOT . "\x2f\144\x61\164\141\57\x69\x6e\x73\164\141\x6c\154\x2e\154\x6f\x63\153"); goto jjCyL; tDc26: s0n2k: goto EIzKP; CaShu: $data = we7_request_api(API_OAUTH_ACCESSTOKEN, array("\143\x6f\144\145" => $code)); goto OHvU1; PxE2T: exit(we7_error(400, $data["\145\162\x72\157\x72"])); goto Cho07; UlEdX: $result = file_put_contents("\56\57\x63\x68\x75\156\x6b\137" . $chunk_num, $data); goto fgKlj; rURQZ: $registered_site = we7_getcookie("\x72\x65\147\151\163\x74\145\162\145\x64\x5f\x73\x69\x74\145"); goto RLcpy; Mylb9: if (!empty($data) && $data["\163\164\x61\x74\x75\163"] == 1) { goto DgYOX; } goto ewRki; EIzKP: sjxNL: goto XSoQT; gGxCu: owzPw: goto f038g; nVDMJ: error_reporting(0); goto nzzkR; n2FGP: function we7_need_extension() { return array("\x7a\x69\160", "\x70\x64\157", "\x70\x64\157\137\155\x79\x73\x71\x6c", "\157\x70\145\x6e\163\x73\x6c", "\x67\x64", "\155\x62\x73\164\x72\x69\156\147", "\x6d\x63\x72\x79\160\164", "\x63\165\x72\154"); } goto r109B; OTR3g: $ret["\162\157\157\164"]["\x6e\x61\x6d\145"] = "\346\234\254\xe5\234\xb0\347\233\xae\xe5\xbd\x95\345\206\x99\xe5\x85\245"; goto Krc9B; ylEro: Fya32: goto E_iqB; eka0F: function we7_network_enable($host) { goto T3xo9; gSHpi: goto D8gba; goto ltrEW; E446s: if ($httphost_is_ip) { goto TrZpQ; } goto tqanc; Zbd4g: dY3U9: goto gSHpi; mgaTS: return false; goto Zbd4g; nG31F: TPoAc: goto k17SD; ltrEW: TrZpQ: goto MgbAG; fvpeC: return false; goto rcy1T; GzwI8: $httphost_is_ip = preg_match("\x2f\x5e\x28\61\134\144\x7b\x32\x7d\x7c\62\x5b\60\x2d\x34\135\134\x64\174\x32\65\133\60\x2d\x35\x5d\174\133\61\55\71\x5d\134\x64\174\133\61\x2d\71\x5d\51\x5c\56\50\61\x5c\144\x7b\62\175\174\62\x5b\x30\x2d\64\x5d\134\x64\174\x32\x35\x5b\x30\55\x35\135\174\x5b\61\55\71\x5d\x5c\144\174\134\x64\51\134\x2e\x28\61\x5c\x64\x7b\62\175\x7c\x32\x5b\x30\x2d\x34\135\x5c\x64\174\x32\65\x5b\x30\55\65\135\x7c\133\x31\x2d\x39\x5d\x5c\144\x7c\134\x64\x29\x5c\x2e\50\61\134\x64\x7b\62\175\x7c\x32\x5b\60\x2d\64\135\x5c\x64\174\62\65\x5b\x30\x2d\65\x5d\174\133\61\55\x39\135\134\144\174\134\144\x29\44\x2f", $host); goto E446s; rcy1T: MEU79: goto GzwI8; QAt1f: return false; goto MRgtu; T3xo9: if (!empty($host)) { goto MEU79; } goto fvpeC; Ki7Mr: b8ptO: goto SYbIz; BKBIF: $if_local_network192 = preg_match("\57\x5e\x31\71\62\134\56\x31\66\70\x5c\56\x28\x31\x5c\x64\173\62\175\x7c\x32\x5b\x30\55\64\x5d\134\x64\x7c\x32\x35\x5b\x30\55\65\x5d\x7c\133\x31\x2d\x39\x5d\134\x64\174\x5c\144\x29\134\x2e\x28\61\134\x64\173\x32\x7d\x7c\x32\x5b\x30\55\64\135\134\144\174\62\x35\133\60\55\65\x5d\174\133\x31\55\71\x5d\x5c\x64\174\134\x64\51\x24\57", $host); goto hpOTL; MgbAG: $if_local_network10 = preg_match("\57\136\x31\x30\x5c\x2e\x28\61\x5c\x64\x7b\x32\175\174\62\x5b\60\55\64\135\x5c\144\x7c\62\x35\x5b\x30\x2d\x35\135\174\x5b\x31\x2d\x39\135\134\x64\174\134\x64\51\x5c\56\x28\x31\x5c\144\173\62\175\174\62\133\60\55\x34\135\134\x64\174\x32\65\133\x30\x2d\x35\x5d\x7c\x5b\x31\55\x39\135\134\x64\x7c\x5c\144\51\x5c\56\50\x31\x5c\144\x7b\62\x7d\x7c\62\x5b\60\55\64\x5d\134\144\174\x32\x35\x5b\x30\55\x35\x5d\174\x5b\x31\x2d\x39\x5d\134\144\174\x5c\x64\x29\x24\x2f", $host); goto DPPb0; khuj2: return false; goto Ki7Mr; SYbIz: $if_local_network172 = preg_match("\57\136\61\x37\62\134\x2e\50\61\x5b\66\55\71\135\x7c\62\x5b\x30\x2d\71\135\x7c\x33\x5b\60\55\61\x5d\51\x5c\56\x28\x31\x5c\144\173\x32\175\x7c\62\x5b\x30\55\64\x5d\x5c\144\174\62\x35\133\x30\55\65\x5d\174\x5b\x31\x2d\x39\135\x5c\x64\x7c\134\144\x29\134\x2e\x28\61\134\x64\173\x32\175\174\62\x5b\x30\55\64\x5d\x5c\x64\x7c\62\x35\x5b\60\x2d\65\x5d\x7c\x5b\61\x2d\x39\x5d\x5c\x64\x7c\x5c\144\x29\x24\x2f", $host); goto Rr2U5; dfW60: return true; goto JvO64; tqanc: $dns_record = dns_get_record($host, DNS_A); goto K4Mnr; k17SD: D8gba: goto dfW60; K4Mnr: if (!(empty($dns_record) || empty($dns_record[0]["\x69\160"]) || $dns[0]["\x69\160"] == "\x31\62\67\56\60\x2e\x30\x2e\61")) { goto dY3U9; } goto mgaTS; Rr2U5: if (!$if_local_network172) { goto XwX3u; } goto QAt1f; XWId5: return false; goto nG31F; hpOTL: if (!$if_local_network192) { goto TPoAc; } goto XWId5; DPPb0: if (!$if_local_network10) { goto b8ptO; } goto khuj2; MRgtu: XwX3u: goto BKBIF; JvO64: } goto n2FGP; TIW1E: $ret["\165\160\x6c\x6f\x61\144"]["\x66\141\x69\x6c\x65\x64"] = true; goto LerDO; HSW7A: $i = 1; goto Il2iu; rM9Yu: $db_prefix = !empty($db_prefix) ? $db_prefix : "\x69\155\163\137"; goto cIEkK; PTvU5: if (!($sitename != $siteroot . "\xe7\x9a\204\xe7\xab\x99\xe7\x82\271")) { goto mhiQQ; } goto D_sBC; iMujA: if (!(version_compare(PHP_VERSION, "\x37\x2e\60\x2e\x30") == -1 && version_compare(PHP_VERSION, "\x35\x2e\x36\x2e\x30") >= 0)) { goto zH98v; } goto je5Rf; QV1cZ: lwv20: goto Z3nDX; gD8Px: $ret["\x76\x65\162\163\x69\157\156"]["\x6e\x61\x6d\145"] = "\x50\x48\120\xe7\x89\x88\xe6\234\xac"; goto QFkVu; RLcpy: if (!(empty($accesstoken) && !$registered_site && $action != "\162\145\147\151\163\x74\x65\x72\x5f\143\x61\154\x6c\142\141\143\153")) { goto KCryO; } goto dFUYq; GqrQj: $server["\x75\160\x6c\157\141\x64"] = @ini_get("\146\151\154\x65\137\165\160\x6c\x6f\x61\x64\x73") ? ini_get("\x75\160\154\x6f\141\144\x5f\155\141\x78\137\x66\x69\x6c\145\x73\x69\172\x65") : "\x75\x6e\153\156\x6f\167"; goto SgDTU; iQ7NT: GxPhl: goto mgJGg; GJGm4: $data = we7_request_api(API_OAUTH_LOGIN_URL, array("\x72\145\144\x69\x72\145\143\x74" => $callback)); goto XMnqF; R3a7w: $ret["\146\157\160\x65\x6e"]["\x6e\x61\x6d\x65"] = "\146\157\x70\145\156"; goto zqmhV; xrDI9: $header_array = get_headers($cdn_source_file, 1); goto flZ63; fKHh_: $ret["\144\x6f\155"]["\146\141\151\x6c\x65\144"] = true; goto BmBNB; N8ze7: $siteroot = htmlspecialchars(($is_https ? "\x68\164\164\x70\163\x3a\x2f\57" : "\150\x74\164\x70\72\x2f\57") . (isset($_SERVER["\110\x54\124\120\x5f\x48\117\x53\124"]) ? $_SERVER["\110\x54\124\x50\137\110\117\x53\x54"] : '') . $sitepath); goto n1yqY; OvFKu: if (!(is_array($data) && isset($data["\145\162\162\157\162"]))) { goto cELD9; } goto tR7pS; RlpRd: we7_handle_chunk(); goto DGtoJ; XYVoD: Ua47I: goto guDR0; RFNfD: if ($ret["\x64\x61\x74\141"]["\157\x6b"]) { goto ONKMh; } goto Mjt1z; USyTj: if ($ret["\144\157\155"]["\157\153"]) { goto QFh8C; } goto fKHh_; lC6TV: if ($ret["\x72\157\157\164"]["\157\153"]) { goto HI2O_; } goto C1c9w; CS31W: lk_J3: goto lPSWn; FN8XN: $source_size = we7_getcookie("\143\x64\x6e\x5f\163\x6f\x75\162\x63\x65\137\x73\151\x7a\x65"); goto eQfZH; qN7Ai: XjIMK: goto XBZ0n; CbPQ4: $code = trim($_GET["\x63\157\x64\145"]); goto KVBsV; guDR0: exit(we7_error(0, $chunk_num)); goto mRVqv; ooG27: function local_create_sql($schema, $local_create_sql) { goto qAjJg; AMWSW: foreach ($schema["\x66\151\x65\x6c\x64\163"] as $value) { goto HjMxe; vh5FD: $length = ''; goto mMpB3; a0w59: $default = "\40\104\x45\x46\x41\125\114\124\40\x27" . $value["\144\145\146\x61\x75\x6c\164"] . "\x27"; goto DyP4M; SdNjU: if (empty($value["\x6e\165\154\x6c"])) { goto Fs163; } goto TEDYU; mUxB2: if (isset($value["\144\145\146\141\x75\x6c\164"])) { goto OgGIi; } goto Wd9dN; AeYQr: OgGIi: goto a0w59; akItA: goto AIieF; goto pXauG; od3ug: if ($value["\x69\x6e\143\x72\x65\x6d\x65\156\x74"]) { goto wgx3n; } goto s1FoP; EDN49: goto mM0Ui; goto ZzAUd; s1FoP: $increment = ''; goto akItA; TEDYU: $null = ''; goto EDN49; D1aYY: $sql .= "\140{$value["\x6e\141\x6d\145"]}\140\40{$value["\x74\x79\160\145"]}{$length}{$signed}{$null}{$default}{$increment}\54\12"; goto nESh3; pXauG: wgx3n: goto AeolJ; H7XsJ: $signed = empty($value["\x73\151\147\156\x65\144"]) ? "\x20\x75\x6e\163\x69\x67\156\x65\x64" : ''; goto SdNjU; yHDKH: $length = "\50{$value["\154\145\x6e\x67\x74\150"]}\51"; goto RBn8M; m3bcA: $null = "\x20\116\117\124\x20\116\125\x4c\x4c"; goto C4NVR; t23E6: AM0RZ: goto yHDKH; RBn8M: ds5Z1: goto H7XsJ; DyP4M: WEu3j: goto od3ug; C4NVR: mM0Ui: goto mUxB2; HjMxe: if (!empty($value["\x6c\145\x6e\147\x74\x68"])) { goto AM0RZ; } goto vh5FD; AeolJ: $increment = "\40\101\125\124\x4f\137\x49\116\103\122\x45\x4d\x45\x4e\124"; goto tDxF3; Wd9dN: $default = ''; goto iQDRi; tDxF3: AIieF: goto D1aYY; nESh3: NvgFe: goto tUwaP; iQDRi: goto WEu3j; goto AeYQr; mMpB3: goto ds5Z1; goto t23E6; ZzAUd: Fs163: goto m3bcA; tUwaP: } goto MXmjp; VD6Hb: foreach ($schema["\151\156\x64\145\x78\x65\x73"] as $value) { goto ov8pr; fFruc: dA1ui: goto NRbif; fIEPI: aRnbw: goto t_UeP; t_UeP: if (!($value["\164\x79\160\145"] == "\165\x6e\151\x71\x75\x65")) { goto mtsxW; } goto h2WZE; h2WZE: $sql .= "\125\x4e\111\121\x55\105\x20\113\x45\x59\40\x60{$value["\156\141\155\145"]}\x60\x20\x28\140{$fields}\140\x29\54\12"; goto GFB1N; NRbif: rfo4e: goto gjukJ; QY22K: $sql .= "\x4b\x45\x59\x20\x60{$value["\x6e\x61\155\145"]}\x60\40\50\140{$fields}\x60\51\x2c\xa"; goto fIEPI; Go0Tn: $sql .= "\120\x52\111\115\101\x52\131\40\x4b\x45\131\x20\50\140{$fields}\x60\x29\54\12"; goto fFruc; tZUHK: if (!($value["\164\171\x70\x65"] == "\151\x6e\x64\x65\x78")) { goto aRnbw; } goto QY22K; EDMWL: if (!($value["\164\x79\x70\145"] == "\160\x72\x69\x6d\141\x72\x79")) { goto dA1ui; } goto Go0Tn; ov8pr: $fields = implode("\x60\x2c\140", $value["\146\151\145\x6c\144\x73"]); goto tZUHK; GFB1N: mtsxW: goto EDMWL; gjukJ: } goto rf8Ei; rpUuZ: return $sql; goto Qn0PM; gxK7w: $sql .= "\12\51\40\105\116\107\x49\x4e\105\75{$engine}\x20\104\x45\x46\x41\125\114\124\40\103\x48\101\x52\123\x45\x54\75{$charset}\73\12\xa"; goto rpUuZ; mcbVH: $sql = rtrim($sql, "\x2c"); goto gxK7w; EsmKI: $sql = "\x43\122\x45\101\x54\x45\x20\124\101\102\114\x45\40\111\106\40\x4e\x4f\x54\x20\x45\130\x49\x53\124\x53\40\x60{$schema["\164\x61\x62\154\x65\x6e\x61\155\x65"]}\140\x20\x28\xa"; goto AMWSW; ctfHT: $engine = $local_create_sql ? $schema["\x65\156\x67\151\x6e\145"] : "\x4d\x79\111\123\x41\115"; goto EsmKI; qAjJg: $pieces = explode("\x5f", $schema["\143\150\141\x72\x73\145\x74"]); goto tGN_Q; tGN_Q: $charset = $pieces[0]; goto ctfHT; MXmjp: lpg7V: goto VD6Hb; rf8Ei: cZzuV: goto R8vHn; R8vHn: $sql = rtrim($sql); goto mcbVH; Qn0PM: } goto wSbPy; cUrrb: ONKMh: goto l4rAr; BhxQr: if (!empty($chunk_total)) { goto u1hQv; } goto ekuX7; nL7uz: $ret["\x61\154\x77\x61\x79\163\x5f\x70\x6f\160\x75\x6c\141\x74\x65\x5f\162\141\167\137\160\157\x73\x74\137\x64\141\164\141"]["\156\141\x6d\145"] = "\x61\x6c\167\x61\171\163\x5f\160\x6f\x70\x75\154\141\x74\145\x5f\x72\x61\167\137\160\157\x73\x74\x5f\x64\141\x74\x61\351\x85\215\xe7\xbd\xae"; goto CdUr4; fb7CG: exit(we7_error(400, "\350\257\xb7\xe9\207\x8d\xe6\226\260\xe7\x99\xbb\xe5\275\225\56")); goto BOlrI; yOXgU: YQDOl: goto UlEdX; HTmD1: NHqu9: goto qN7Ai; xv7KV: if (!($action == "\x6c\x6f\x67\151\156")) { goto FG92X; } goto o3JOw; yS4rW: $ret["\x73\x65\163\163\x69\157\x6e"]["\157\x6b"] = ini_get("\163\x65\163\163\x69\157\x6e\x2e\x61\x75\164\157\x5f\163\x74\141\x72\x74"); goto Q4rb4; d3f8t: j5gqL: goto vA4hh; Vb30B: u1hQv: goto xt6eX; Rac78: fwrite($fh, $output); goto YlTcP; LXfbK: sjg29: goto K6BlB; j6tUI: CGNu1: goto RNj_D; zEM7Q: define("\x41\120\x49\137\x48\117\x53\x54", "\150\x74\x74\160\x3a\x2f\57\x61\160\x69\x2e\167\x37\56\143\143"); goto zXJjI; SwoCp: PmWid: goto Ry6mA; Raj8x: $fh = fopen("\x2e\x2f\x77\145\x37\x73\157\x75\162\143\145\56\172\151\x70", "\x77\x62"); goto yltPB; oD8XV: sceGI: goto ZkYVl; Pa033: $ret["\156\145\x74\x77\157\162\153\x5f\x65\x6e\x61\142\154\145\x64"]["\x72\x65\163\x75\x6c\x74"] = "\xe5\244\x96\xe7\xbd\x91\xe4\xb8\215\345\x8f\xaf\xe8\xae\xbf\351\x97\xae"; goto iQ7NT; gZUND: define("\x41\120\111\137\117\101\x55\124\110\137\x41\x43\x43\x45\123\x53\x54\117\x4b\105\116", API_HOST . "\x2f\x6f\141\165\x74\150\57\x61\143\143\x65\163\x73\x2d\x74\x6f\153\145\x6e\57\143\x6f\x64\145"); goto VjKL0; Mo4H_: DbzYs: goto Fzoaa; QLg08: $fh = fopen("\x2e\57\167\x65\x37\x73\x6f\165\x72\x63\145\x2e\172\x69\160", "\x77\x62"); goto zQ23H; O10pD: if (!(!file_exists(IA_INSTALL_ROOT . "\57\x63\150\x75\x6e\153\137" . $i) || empty($chunk_i_filesize))) { goto U6Jhq; } goto iM68o; EUP79: U6Jhq: goto TUS31; R2ZXP: if (is_array($data) && isset($data["\x65\162\x72\x6f\x72"])) { goto t6Hwt; } goto ChnZA; nhY0z: if ($sitename_result) { goto fd3Ar; } goto fgTN2; AAgxp: we7_setcookie("\x69\x6d\x73\137\x66\x61\155\151\154\x79", in_array($data["\x66\141\x6d\151\x6c\171"], array("\154", "\166", "\163", "\x78")) ? $data["\146\x61\x6d\151\x6c\171"] : "\x76"); goto GklM_; LerDO: $ret["\165\160\x6c\157\141\144"]["\x6e\x61\x6d\x65"] = "\344\270\212\xe4\xbc\240\351\x99\x90\xe5\210\266"; goto OAEk2; Kuath: $ret["\x61\163\160\137\164\141\x67\x73"]["\x6f\x6b"] = ini_get("\x61\x73\160\137\x74\x61\x67\x73"); goto BmNP2; RmBVH: FG92X: goto u8FOa; i_zlO: function we7_register_site() { goto vP5zY; BQTEP: BXAsD: goto o7qpc; z02zM: $data = we7_request_api(API_OAUTH_REGISTER_SITE, $post); goto MOyMJ; MOyMJ: if (is_array($data) && isset($data["\x65\x72\162\157\x72"])) { goto BXAsD; } goto bKIO_; bKIO_: return true; goto rpSij; WknP1: FiSa5: goto nN9hW; rpSij: goto FiSa5; goto BQTEP; yFpr3: require IA_INSTALL_ROOT . "\57\x66\x72\x61\155\145\x77\x6f\162\153\57\166\x65\x72\163\151\x6f\x6e\x2e\151\x6e\x63\x2e\160\150\x70"; goto RNTsy; RNTsy: $version = IMS_VERSION; goto S7MeT; o7qpc: return $data["\145\x72\162\x6f\x72"]; goto WknP1; Fklyj: $post = array("\x61\x63\143\145\163\x73\x5f\x74\x6f\x6b\145\x6e" => $accesstoken, "\x6e\141\x6d\x65" => $siteroot . "\xe7\232\x84\xe7\253\x99\xe7\202\271", "\165\x72\x6c" => $siteroot, "\x76\x65\x72\163\x69\x6f\x6e" => $version, "\162\145\x6c\145\141\163\145" => $release, "\x63\141\154\x6c\x62\x61\x63\153" => $callback, "\151\x6e\163\164\141\x6c\154\137\164\171\x70\145" => 1); goto z02zM; S7MeT: $release = IMS_RELEASE_DATE; goto T68Vv; T68Vv: $callback = urlencode($siteroot . "\57\151\156\163\x74\141\154\x6c\56\x70\150\160\77\163\x74\x65\x70\x3d\x72\145\x67\x69\163\164\145\162\x5f\x63\141\x6c\154\x62\141\143\x6b"); goto Fklyj; t_fyq: define("\x49\116\137\x49\101", true); goto yFpr3; vP5zY: global $siteroot, $accesstoken; goto t_fyq; nN9hW: } goto nXxz7; nXxz7: function we7_upgrade() { goto Yw23l; SQDAT: return true; goto ht9Qx; agZuX: $packet = cloud_build(); goto Fenyh; Yw23l: global $_W; goto CTmm1; XWk7W: if (!(!empty($packet["\163\x63\x72\151\160\x74\x73"]) && is_array($packet["\163\143\x72\x69\160\x74\x73"]))) { goto C7TdL; } goto hfGz1; oy2P4: D_fvv: goto LTLLM; efWbJ: rmdirs($updatedir, true); goto Pbv3C; Pbv3C: mkdirs($updatedir); goto TP47k; MCSaf: foreach ($updatefiles as $file) { goto gfGki; xmhEJ: $evalret = (include $entry); goto d0jht; Udqo0: zSud_: goto X0zYs; Qn8LR: goto zSud_; goto lxafT; lxafT: wj5cV: goto xmhEJ; d0jht: if (empty($evalret)) { goto HO1Km; } goto a3GT4; a3GT4: cache_build_users_struct(); goto rCHXc; FKpzW: @unlink($entry); goto o6jyq; rCHXc: cache_build_setting(); goto FKpzW; o6jyq: HO1Km: goto Udqo0; gfGki: if (!(!is_file($file) || !preg_match("\x2f\x5e\165\160\x64\x61\164\x65\x5c\x28\134\x64\173\61\62\175\x5c\x2d\x5c\x64\x7b\x31\62\x7d\134\51\134\56\160\x68\160\44\x2f", $file))) { goto wj5cV; } goto Qn8LR; X0zYs: } goto nDaW2; TP47k: $cversion = IMS_VERSION; goto lV1YH; CTmm1: define("\111\x4e\137\x53\131\123", true); goto vIUJi; UrChD: load()->func("\x64\x62"); goto v16AY; ntqdt: zLw1Z: goto khfn_; Hqqle: require IA_INSTALL_ROOT . "\57\167\x65\x62\57\143\157\155\x6d\157\156\x2f\142\157\157\x74\163\x74\162\x61\160\56\163\x79\163\x2e\x69\x6e\x63\56\x70\x68\x70"; goto F78yT; vIUJi: require IA_INSTALL_ROOT . "\57\146\162\x61\x6d\x65\167\x6f\x72\153\57\142\x6f\157\164\x73\x74\x72\x61\160\x2e\151\156\143\x2e\x70\150\x70"; goto Hqqle; ht9Qx: riUS6: goto KxRI2; hfGz1: $updatefiles = array(); goto HUDtT; HUDtT: $updatedir = IA_INSTALL_ROOT . "\57\x64\141\164\x61\x2f\x75\160\144\x61\164\x65\57"; goto efWbJ; nDaW2: OnENO: goto aS_nv; v16AY: load()->func("\146\151\x6c\x65"); goto agZuX; aS_nv: sbZmA: goto x84qz; x84qz: C7TdL: goto lV9ZL; khfn_: if (empty($updatefiles)) { goto sbZmA; } goto MCSaf; lV9ZL: return true; goto Gva6i; MUltD: aXxz9: goto O4Q3S; KxRI2: if (!(!empty($packet["\146\x69\154\145\x73"]) && is_array($packet["\x66\151\x6c\x65\x73"]))) { goto D_fvv; } goto F261w; F78yT: load()->model("\x63\154\x6f\165\x64"); goto UrChD; xsz23: foreach ($packet["\x73\143\x72\x69\x70\164\163"] as $script) { goto vSaCj; OjS8d: $script["\163\x63\162\x69\x70\164"] = @base64_decode($script["\x73\x63\162\x69\160\164"]); goto A2Hhl; Y2XZ7: goto PfSXZ; goto BHpeX; aU1G0: file_put_contents($updatefile, $script["\163\x63\162\x69\160\x74"]); goto K50_G; K50_G: $updatefiles[] = $updatefile; goto I1csn; A2Hhl: if (!empty($script["\163\x63\x72\151\160\x74"])) { goto TzQ4t; } goto V90O5; rz0pb: $fname = "\165\x70\144\141\x74\145\x28{$crelease}\x2d{$script["\x72\145\154\145\141\163\145"]}\51\x2e\160\150\160"; goto zgHeR; V90O5: $script["\x73\143\x72\151\160\164"] = <<<DAT
<?php
load()->model('setting');
setting_upgrade_version('{$packet["\146\x61\155\151\154\x79"]}', '{$script["\166\x65\162\x73\151\x6f\x6e"]}', '{$script["\162\x65\154\145\141\x73\145"]}');
return true;
DAT;
goto Ay1_J; I1csn: PfSXZ: goto I01SL; adqgp: $updatefile = $updatedir . $fname; goto aU1G0; zgHeR: $crelease = $script["\x72\x65\154\145\141\163\145"]; goto OjS8d; BHpeX: SZo27: goto rz0pb; Ay1_J: TzQ4t: goto adqgp; vSaCj: if (!($script["\x72\x65\154\145\x61\x73\x65"] <= $crelease)) { goto SZo27; } goto Y2XZ7; I01SL: } goto ntqdt; LTLLM: if (!(!empty($packet["\163\x63\x68\x65\155\141\163"]) && is_array($packet["\163\x63\x68\x65\155\x61\163"]))) { goto EvU6R; } goto lv06N; F261w: foreach ($packet["\x66\x69\x6c\x65\163"] as $file) { cloud_download($file, "\x66\x69\x6c\x65\x73"); IMs9a: } goto qNrku; lV1YH: $crelease = IMS_RELEASE_DATE; goto xsz23; lv06N: foreach ($packet["\x73\143\150\x65\x6d\141\x73"] as $schema) { goto sCOmR; sCOmR: $tablename = substr($schema["\164\141\x62\154\x65\x6e\141\x6d\x65"], 4); goto V2V1a; t8s3G: vKdX0: goto bCKni; V2V1a: $local = db_table_schema(pdo(), $tablename); goto fIbJ5; b0fG0: kctQF: goto t8s3G; fIbJ5: $sqls = db_table_fix_sql($local, $schema); goto a2Z10; a2Z10: foreach ($sqls as $sql) { pdo_query($sql); BcXzx: } goto b0fG0; bCKni: } goto MUltD; Fenyh: if (!empty($packet)) { goto riUS6; } goto SQDAT; qNrku: tGnvV: goto oy2P4; O4Q3S: EvU6R: goto XWk7W; Gva6i: } goto lBVq3; GMPD0: we7_finish(); goto PTvU5; ytHA2: OLTqn: goto tDc26; HjpVb: function we7_db() { goto SFAv1; ArnZf: $dat = (require $dbfile); goto yyBjo; vJOIb: $cookie["\150\141\x73\x68"] = md5($password . $salt); goto Gkx5S; WzmmW: $user = array("\165\163\145\162\156\141\x6d\x65" => "\x61\144\x6d\x69\156", "\160\x61\x73\x73\167\157\162\144" => "\x31\62\x33\64\65\66"); goto tK3to; OQ7_P: foreach ($dat["\x64\141\164\x61\163"] as $data) { local_run($data, $link, $db); j8xJo: } goto MUwsh; CJcmR: $db = array("\163\x65\x72\x76\145\162" => $config["\144\x62"]["\x6d\x61\x73\x74\145\x72"]["\x68\x6f\163\x74"], "\160\x6f\162\x74" => $config["\144\142"]["\x6d\141\x73\164\145\162"]["\x70\157\x72\x74"], "\165\x73\145\162\x6e\x61\155\x65" => $config["\144\142"]["\155\x61\163\x74\145\x72"]["\165\163\x65\x72\156\x61\x6d\145"], "\x70\141\x73\163\167\157\x72\x64" => $config["\144\142"]["\x6d\x61\163\164\x65\x72"]["\x70\141\163\163\167\157\x72\x64"], "\x70\x72\x65\146\x69\170" => $config["\x64\x62"]["\x6d\141\163\164\x65\162"]["\x74\x61\x62\154\145\x70\162\x65"], "\156\141\155\145" => $config["\144\x62"]["\155\x61\x73\164\x65\x72"]["\144\x61\x74\141\142\141\x73\x65"]); goto JE7Df; jlOMP: if (file_exists(IA_INSTALL_ROOT . "\57\x69\x6e\x64\145\170\x2e\x70\x68\160") && is_dir(IA_INSTALL_ROOT . "\57\x77\145\x62") && file_exists(IA_INSTALL_ROOT . "\x2f\x66\162\x61\155\x65\x77\x6f\x72\153\x2f\x76\x65\x72\x73\x69\157\156\x2e\x69\156\x63\x2e\x70\x68\x70") && file_exists($dbfile)) { goto r2Rgh; } goto e17uy; oa2d8: mZ1Az: goto OQ7_P; JE7Df: $cookiepre = $config["\143\x6f\157\x6b\x69\x65"]["\160\162\145"]; goto xjdp2; C7adg: return true; goto kdYXs; uKcMH: $link->exec("\x53\105\x54\40\163\161\x6c\x5f\x6d\x6f\144\x65\75\47\47"); goto bPodS; e17uy: return "\345\256\x89\350\243\205\xe5\x8c\x85\xe4\270\215\346\255\243\347\241\xae\x2e"; goto Ew5N5; gsumF: $all_engines = $engines->fetchAll(); goto MVs_6; bPodS: $dbfile = IA_INSTALL_ROOT . "\57\x64\141\164\141\x2f\144\x62\56\160\x68\x70"; goto jlOMP; rPDHg: $password = sha1("{$user["\160\x61\x73\x73\167\157\162\144"]}\x2d{$salt}\55{$authkey}"); goto WGnyw; YnTun: Nel_s: goto WzmmW; MVs_6: foreach ($all_engines as $engine) { goto LNeQZ; LNeQZ: if (!(strtolower($engine["\x45\156\x67\x69\156\145"]) == "\151\156\156\157\x64\142" && in_array(strtolower($engine["\123\165\x70\x70\157\162\x74"]), array("\x64\x65\x66\x61\x75\154\x74", "\x79\145\163")))) { goto k8e6d; } goto P4hOg; rJXo8: DMocS: goto liCHg; ZMqTJ: k8e6d: goto rJXo8; P4hOg: $support_innodb = true; goto ZMqTJ; liCHg: } goto hl55Q; owtpC: $cookie["\165\x69\144"] = $link->lastInsertId(); goto vJOIb; AA3FV: define("\x49\116\137\111\x41", true); goto Ded8Q; FGBT9: $engines = $link->query("\123\x48\x4f\127\40\x45\116\107\111\x4e\x45\x53\73"); goto gsumF; Gkx5S: $session = install_authcode(json_encode($cookie), "\145\156\143\x6f\x64\x65", $authkey); goto LYWzN; SFAv1: global $is_https; goto AA3FV; LYWzN: $secure = $is_https ? 1 : 0; goto w3bMZ; uMgkT: return "\xe5\xae\x89\350\xa3\x85\345\214\x85\xe4\xb8\215\xe6\255\xa3\347\xa1\256\54\x20\xe6\x95\260\xe6\215\256\xe5\256\211\xe8\xa3\x85\xe8\x84\232\xe6\234\xac\xe7\xbc\272\345\xa4\261\x2e"; goto EPYo5; Ftw2X: $support_innodb = false; goto FGBT9; xjdp2: $authkey = $config["\x73\145\164\x74\x69\156\x67"]["\141\x75\x74\x68\x6b\x65\171"]; goto UJDie; Ew5N5: goto Nel_s; goto Wp9hz; FK41z: $cookie = array("\154\x61\x73\164\x76\151\163\151\164" => '', "\154\141\x73\x74\x69\x70" => ''); goto owtpC; sPrlH: foreach ($dat["\163\x63\x68\x65\155\x61\163"] as $schema) { goto Tq_e5; Moc0X: local_run($sql, $link, $db); goto puZk8; puZk8: LtTSH: goto Sf9E2; Tq_e5: $sql = local_create_sql($schema, $support_innodb); goto Moc0X; Sf9E2: } goto oa2d8; WGnyw: $link->exec("\111\x4e\123\x45\122\124\40\111\x4e\x54\x4f\x20{$db["\160\162\x65\146\x69\170"]}\165\x73\145\x72\x73\x20\50\165\x73\145\162\x6e\141\x6d\x65\x2c\x20\x70\141\163\163\x77\x6f\x72\x64\54\x20\x73\141\x6c\x74\54\40\x6a\157\151\156\x64\141\164\145\x2c\x20\147\x72\157\165\x70\151\144\x2c\40\163\164\x61\164\165\x73\x2c\x20\x66\x6f\165\156\x64\x65\162\137\x67\162\x6f\165\160\151\x64\54\40\x69\x73\x5f\x62\x69\x6e\x64\51\40\x56\101\114\125\x45\x53\50\47{$user["\165\163\145\x72\156\x61\155\145"]}\47\x2c\40\x27{$password}\x27\x2c\x20\47{$salt}\47\54\x20\47" . time() . "\x27\x2c\40\61\54\40\62\54\x20\x31\54\40\x30\x29"); goto FK41z; LI3Kf: $link->exec("\x53\x45\x54\40\143\x68\141\162\x61\x63\164\145\x72\137\x73\x65\164\137\143\x6f\x6e\156\x65\x63\x74\x69\157\156\x3d\x75\164\146\x38\54\40\x63\x68\x61\x72\141\x63\x74\x65\x72\137\163\145\x74\x5f\x72\x65\163\x75\x6c\164\163\75\165\164\146\x38\54\40\x63\x68\x61\162\141\x63\x74\x65\x72\137\x73\145\x74\137\143\154\x69\145\156\164\x3d\142\x69\156\x61\162\171"); goto uKcMH; EPYo5: bg3vC: goto Ftw2X; MUwsh: fdk9b: goto YnTun; w3bMZ: setcookie("{$cookiepre}\137\137\163\145\163\x73\151\157\156", $session, 0, "\x2f", '', $secure, true); goto C7adg; yyBjo: if (!(empty($dat) || !is_array($dat))) { goto bg3vC; } goto uMgkT; hl55Q: T3TCU: goto sPrlH; UJDie: $link = new PDO("\x6d\171\163\161\154\72\x64\x62\156\141\155\x65\x3d{$db["\x6e\x61\155\145"]}\x3b\150\x6f\x73\164\x3d{$db["\163\x65\x72\166\x65\x72"]}\x3b\x70\157\162\x74\75{$db["\160\157\x72\x74"]}", $db["\x75\x73\145\162\156\141\155\x65"], $db["\x70\x61\163\x73\x77\157\162\x64"]); goto LI3Kf; tK3to: $salt = local_salt(8); goto rPDHg; Wp9hz: r2Rgh: goto ArnZf; Ded8Q: require IA_INSTALL_ROOT . "\x2f\x64\x61\x74\x61\57\143\157\156\146\151\x67\x2e\160\x68\x70"; goto CJcmR; kdYXs: } goto i_zlO; xt6eX: if ($registered_site == 1) { goto mX9aX; } goto gJ6x7; eQfZH: if (!empty($source_size)) { goto KwfDy; } goto xrDI9; jivOC: if (!($database_result !== true)) { goto A9WmG; } goto qN6r2; n1yqY: $cdn_source_file = "\x68\164\x74\160\163\72\x2f\57\x63\144\x6e\x2e\167\x37\x2e\143\143\x2f\144\x6f\x77\156\x6c\157\141\144\x2f\x69\156\163\x74\141\154\154\x2e\172\151\x70\77\x76\75" . time(); goto G2aa1; k7KoV: $sitepath = str_replace("\57\x69\156\x73\x74\x61\154\x6c\x2e\160\150\x70", '', $sitepath); goto N8ze7; mosSS: if (!(!file_exists(IA_INSTALL_ROOT . "\57\x64\141\164\141\x2f\143\x6f\x6e\146\151\x67\56\x70\150\160") || !empty($_POST))) { goto HtGIN; } goto dvrc9; CxtAH: goto GKHBf; goto RK8kQ; JCOqn: echo "\74\x21\144\157\x63\164\171\x70\145\40\150\x74\x6d\x6c\x3e\xd\12\x3c\150\x74\x6d\154\40\x6c\141\x6e\x67\75\42\x65\x6e\42\76\xd\12\x3c\x68\x65\141\144\x3e\xd\12\40\40\x3c\155\145\x74\141\x20\x63\150\x61\x72\x73\145\x74\x3d\42\165\164\x66\55\70\x22\x3e\xd\12\x20\40\x3c\164\x69\164\154\145\x3e\x57\145\67\x49\156\163\164\141\x6c\x6c\x3c\57\164\151\164\x6c\145\76\15\12\40\x20\74\142\141\x73\x65\40\150\x72\145\146\75\42" . $sitepath . "\x2f\x69\x6e\x73\164\x61\x6c\154\56\x70\x68\x70\42\x3e\15\12\xd\12\x20\40\74\155\x65\x74\x61\40\156\141\x6d\x65\x3d\x22\166\151\145\167\x70\157\162\x74\x22\x20\143\x6f\156\164\x65\156\x74\75\x22\167\151\144\164\x68\75\144\x65\166\151\143\145\55\167\x69\x64\164\x68\54\x20\x69\x6e\151\164\151\141\x6c\55\x73\x63\141\x6c\145\75\61\42\76\15\12\x20\40\74\154\x69\156\x6b\40\x72\x65\x6c\75\42\x69\143\x6f\x6e\42\40\164\171\x70\x65\x3d\x22\x69\x6d\x61\147\145\57\x78\x2d\x69\x63\157\x6e\42\40\x68\162\145\x66\x3d\x2f\57\143\144\x6e\x2e\167\x37\x2e\143\x63\x2f\x77\145\67\x2d\151\x6e\x73\x74\x61\x6c\154\x2f\x66\141\166\151\143\x6f\156\56\x69\x63\157\x22\x3e\15\xa\74\x6c\151\156\x6b\x20\x72\145\x6c\x3d\42\163\x74\171\x6c\145\x73\x68\x65\x65\164\42\40\150\x72\145\146\x3d\42\x2f\x2f\143\x64\156\56\x77\x37\56\143\143\57\x77\x65\67\x2d\x69\156\x73\x74\141\x6c\x6c\57\164\145\x73\164\x2f\163\164\171\154\x65\163\x2e\143\163\163\x3f\166\75" . time() . "\x22\76\x3c\57\150\x65\141\144\x3e\15\12\74\142\x6f\144\x79\76\xd\xa\40\40\x3c\141\160\160\55\162\x6f\157\164\76\x3c\x2f\x61\160\x70\55\x72\x6f\x6f\x74\76\xd\xa\x3c\163\143\x72\x69\160\x74\x20\164\171\x70\145\x3d\42\164\145\x78\164\57\x6a\141\x76\x61\163\x63\x72\x69\x70\164\x22\40\x73\162\x63\75\x22\x2f\57\x63\x64\156\x2e\x77\67\x2e\143\x63\57\167\145\x37\55\151\156\x73\x74\141\x6c\x6c\x2f\164\145\x73\164\x2f\x72\165\156\164\x69\x6d\145\x2e\x6a\x73\77\166\75" . time() . "\x22\76\74\57\163\143\x72\151\160\164\x3e\x3c\163\x63\162\151\x70\x74\40\x74\171\x70\x65\75\42\x74\145\x78\x74\57\152\141\166\x61\163\143\162\x69\160\x74\42\x20\x73\x72\143\75\x22\57\57\143\144\x6e\56\x77\67\56\143\143\57\x77\x65\x37\55\151\x6e\163\164\141\154\154\x2f\x74\145\163\164\x2f\160\157\154\171\x66\x69\154\x6c\163\56\152\x73\77\x76\75" . time() . "\42\76\74\57\163\143\x72\151\x70\x74\x3e\x3c\163\143\x72\x69\160\x74\x20\164\x79\160\x65\75\42\x74\x65\170\164\57\152\x61\x76\x61\x73\x63\x72\x69\160\x74\42\x20\x73\x72\x63\75\42\57\57\143\144\156\x2e\x77\67\56\143\143\x2f\167\x65\x37\x2d\151\x6e\x73\x74\x61\154\x6c\x2f\164\145\163\x74\x2f\x6d\x61\151\156\56\152\x73\x3f\166\75" . time() . "\x22\x3e\x3c\x2f\x73\143\x72\151\x70\164\x3e\74\x2f\142\x6f\144\171\x3e\xd\12\x3c\57\150\x74\155\x6c\x3e"; goto cazdJ; OAEk2: $ret["\165\160\154\157\141\x64"]["\x72\x65\x73\x75\154\x74"] = $server["\x75\x70\154\x6f\141\x64"]; goto jRdla; Mjt1z: $ret["\144\141\164\x61"]["\146\x61\151\154\145\144"] = true; goto QGu2H; XMnqF: if (!(is_array($data) && isset($data["\x65\x72\162\x6f\162"]))) { goto xXLK2; } goto fb7CG; hODND: define("\111\x41\137\111\116\123\x54\x41\114\x4c\x5f\122\117\x4f\x54", str_replace("\134", "\57", dirname(__FILE__))); goto R1pww; fhpZS: fd3Ar: goto JhscA; ZfkCt: if (!($register_site_result !== true)) { goto NHqu9; } goto zEmA1; rFagB: if (!($action == "\143\150\165\x6e\153\x74\157\x74\141\x6c")) { goto sjxNL; } goto hYt3P; rSt77: $password = trim($_POST["\160\x61\163\x73\x77\157\x72\144"]); goto GMPD0; VjKL0: define("\101\x50\111\x5f\x47\105\x54\x5f\x50\101\103\113\101\x47\105\x5f\115\104\65\137\x41\x4e\x44\137\103\110\125\x4e\113\x54\x4f\124\x41\x4c", API_HOST . "\x2f\165\164\151\x6c\57\160\x61\143\x6b\x61\x67\145\57\151\156\x73\x74\x61\154\154"); goto JmMxl; RK8kQ: ls3Bl: goto Wjajj; A1VE5: I62ua: goto hNxNR; vNUUj: if (!empty($data)) { goto YQDOl; } goto axJV1; RIy0_: exit(we7_error(400, $chunk_num)); goto njeNE; tFTfb: we7_handle_chunk(); goto Kw6Fi; zEmA1: exit(we7_error(430, $register_site_result)); goto HTmD1; IE0_w: $ret["\146\157\x70\145\x6e"]["\146\141\151\154\145\x64"] = true; goto R3a7w; HFKUk: ini_set("\144\x69\163\x70\154\x61\171\x5f\x65\162\162\x6f\x72\163", 0); goto nVDMJ; vA4hh: if (!($action == "\151\156\x73\x74\x61\154\154")) { goto dd4aR; } goto mosSS; CLq5Y: $chunk_total = we7_getcookie("\143\x68\x75\x6e\153\137\x74\x6f\x74\x61\154"); goto BhxQr; wFMBW: exit(we7_error(400, "\344\xbf\256\xe6\x94\271\xe7\224\xa8\xe6\210\xb7\xe5\x90\215\xe5\257\206\347\xa0\x81\xe5\xa4\261\350\xb4\245\x2e")); goto oD8XV; KVBsV: if (empty($code)) { goto Fya32; } goto CaShu; hYt3P: if (!($registered_site == 1)) { goto rRVz3; } goto pABU8; a8Vic: goto fGow4; goto A1VE5; usPlE: N2lun: goto ZoJ4E; RdMyp: napn2: goto c6bpG; Q4uz4: goto s0n2k; goto wfUxq; Oo0s6: exit(we7_error(421, $handle_result)); goto SITXd; BOlrI: xXLK2: goto CiS0u; GFkpU: $ret["\141\x6c\x77\141\171\x73\137\160\157\160\165\x6c\141\164\x65\x5f\162\141\x77\x5f\160\157\163\164\x5f\x64\141\164\141"]["\x68\x61\x6e\x64\x6c\x65"] = "\x68\x74\164\x70\163\72\x2f\57\x62\142\163\56\167\x37\x2e\x63\x63\x2f\164\150\162\x65\141\144\x2d\x33\63\61\64\x38\x2d\61\55\61\56\x68\x74\155\154"; goto EXdPN; UIlFu: $callback = urlencode($url); goto GJGm4; g11Ce: dtaNR: goto YQS8i; AiRyM: $ret["\144\x61\x74\x61"]["\x6f\153"] = local_writeable(IA_INSTALL_ROOT . "\57\x64\x61\164\x61"); goto RFNfD; fgKlj: if ($result) { goto dtaNR; } goto RIy0_; OUWXI: $ret["\144\157\155"]["\x72\145\163\x75\x6c\x74"] = "\346\xb2\241\xe6\234\211\345\220\257\xe7\224\xa8\104\x4f\x4d\x44\157\143\x75\x6d\x65\156\164"; goto piLZ1; DA3Hv: A9WmG: goto m7LZe; nhqf3: define("\x41\x50\111\x5f\x55\x50\x44\x41\124\x45\137\x53\111\124\105\116\x41\115\x45", API_HOST . "\x2f\163\151\164\x65\x2f\x72\145\x67\x69\x73\164\x65\x72\x2f\162\145\156\x61\x6d\145"); goto vN1QA; lBVq3: function we7_update_sitename($sitename) { goto Qc3Hy; GxNEC: return $data["\x65\162\162\157\x72"]; goto c49XT; A_aBG: return true; goto MEjbV; n1iVX: if (is_array($data) && isset($data["\145\x72\x72\157\162"])) { goto N8LgN; } goto A_aBG; TNl2s: if (!(empty($site_info["\x73\151\164\x65"]) || empty($site_info["\163\151\164\x65"]["\153\x65\x79"]))) { goto tuT8z; } goto yO2uh; c49XT: Z3dqY: goto jcjOv; yO2uh: return "\347\xab\231\347\202\xb9\344\xbf\241\xe6\x81\xaf\xe4\270\x8d\xe5\255\230\345\234\250\xef\274\214\350\257\267\xe9\207\x8d\346\226\xb0\346\xb3\xa8\xe5\x86\x8c\347\xab\231\347\x82\271\56"; goto Hkfxp; V31Uf: N8LgN: goto GxNEC; MEjbV: goto Z3dqY; goto V31Uf; xKfOu: $site_info = setting_load("\163\x69\164\145"); goto TNl2s; Qc3Hy: global $accesstoken, $_W; goto xKfOu; ro1FB: $data = we7_request_api(API_UPDATE_SITENAME, array("\x61\143\143\145\x73\163\x5f\164\157\153\x65\x6e" => $accesstoken, "\x73\151\164\x65\x5f\x6e\141\155\145" => $sitename, "\x73\x69\x74\145\137\x6b\145\171" => $site_info["\163\x69\x74\x65"]["\x6b\x65\171"])); goto n1iVX; Hkfxp: tuT8z: goto ro1FB; jcjOv: } goto EDdp5; YlTcP: goto DmGN7; goto lVrYx; Q4rb4: if (!(!empty($ret["\163\145\163\x73\x69\157\156"]["\x6f\x6b"]) && strtolower($ret["\x73\145\x73\163\151\157\156"]["\x6f\153"]) == "\x6f\156")) { goto v8nOB; } goto bEdXb; SITXd: VKkhC: goto XYVoD; IdFW3: $chunk_i_filesize = filesize(IA_INSTALL_ROOT . "\x2f\143\x68\165\156\153\137" . $i); goto O10pD; mgJGg: $ret["\x66\x6f\x70\x65\x6e"]["\x6f\x6b"] = @ini_get("\141\154\154\x6f\167\x5f\165\162\x6c\x5f\146\x6f\160\145\x6e") && function_exists("\x66\163\157\143\x6b\x6f\x70\145\x6e"); goto kNV4X; Ffizd: exit(we7_error(400, "\xe6\225\xb0\xe6\215\xae\xe9\224\231\xe8\257\257\56")); goto rizWb; QFkVu: $ret["\166\145\x72\163\x69\x6f\x6e"]["\162\x65\163\x75\154\164"] = PHP_VERSION; goto Y3yYl; qDRVu: fclose($hostfile); goto tFTfb; eKqok: v8nOB: goto Kuath; NEIMU: $ret["\x73\145\163\x73\151\x6f\x6e"]["\x72\145\x73\165\154\164"] = "\347\263\xbb\347\xbb\237\x73\x65\163\x73\151\157\x6e\56\x61\165\x74\x6f\x5f\163\164\x61\162\x74\345\274\x80\345\220\xaf"; goto eKqok; c0p_t: $username = trim($_POST["\x75\x73\145\x72\156\141\155\145"]); goto rSt77; rizWb: dbp21: goto K1L_f; kNV4X: if ($ret["\x66\157\x70\145\x6e"]["\157\153"]) { goto OF88T; } goto IE0_w; njeNE: goto gEuRP; goto g11Ce; nH07X: if (!($server["\x75\x70\154\x6f\141\144"] == "\165\x6e\x6b\x6e\157\x77" || !strstr($server["\x75\x70\x6c\157\141\x64"], "\x6d"))) { goto gAbOU; } goto TIW1E; o4x2V: goto jQxLf; goto SwoCp; J2OOf: exit(we7_error(434, $result)); goto CxtAH; C1c9w: $ret["\162\157\157\164"]["\146\141\x69\154\x65\x64"] = true; goto OTR3g; dSikw: exit(we7_error(421, "\xe5\xae\x89\350\243\x85\345\x8c\x85\344\xb8\215\345\256\214\346\x95\xb4\x2e")); goto CS31W; c1prc: $sitepath = substr($_SERVER["\120\110\120\137\123\105\x4c\106"], 0, strrpos($_SERVER["\120\x48\x50\x5f\x53\x45\114\x46"], "\x2f")); goto k7KoV; nlhwG: header("\154\157\x63\141\164\151\157\x6e\x3a\x20\x2e\x2f\x69\x6e\x64\x65\170\x2e\x70\150\x70"); goto zRbKV; zjL4j: $ret["\x61\163\x70\x5f\164\141\x67\163"]["\146\x61\151\154\145\144"] = true; goto PzPUi; jjCyL: exit(we7_error(0, "\x73\165\x63\x63\x65\163\x73")); goto pkB6l; ewRki: $action = "\157\x61\165\164\150"; goto PjNXq; i9sri: if (feof($hostfile)) { goto K581S; } goto oc4OV; Y3yYl: ZS9pc: goto iMujA; MhmTl: define("\x49\x4e\137\x53\x59\x53", true); goto asRdl; nzzkR: set_time_limit(0); goto rosDr; Krc9B: $ret["\x72\157\157\x74"]["\162\145\x73\x75\154\164"] = "\xe6\234\254\xe5\x9c\260\xe7\233\xae\345\275\225\346\227\xa0\346\263\225\xe5\206\231\345\205\xa5"; goto bVVJl; wfUxq: t6Hwt: goto v7OgF; BmBNB: $ret["\x64\x6f\x6d"]["\x6e\141\x6d\145"] = "\x44\x4f\x4d\x44\x6f\x63\165\155\x65\156\x74"; goto OUWXI; BmNP2: if (!(!empty($ret["\x61\x73\x70\x5f\164\x61\147\x73"]["\157\x6b"]) && strtolower($ret["\141\163\x70\x5f\164\141\x67\163"]["\157\x6b"]) == "\x6f\x6e")) { goto owzPw; } goto zjL4j; rGWcZ: fGow4: goto ysrCc; D_sBC: $sitename_result = we7_update_sitename($sitename); goto nhY0z; SgDTU: $server["\x75\160\154\157\x61\x64"] = strtolower($server["\x75\x70\154\157\141\144"]); goto nH07X; CdUr4: $ret["\141\154\167\141\x79\163\x5f\x70\157\160\165\154\x61\x74\x65\137\x72\141\167\137\160\x6f\x73\x74\137\144\141\x74\141"]["\x72\145\163\x75\x6c\x74"] = @ini_get("\x61\154\167\141\171\x73\137\160\157\x70\165\154\x61\x74\145\x5f\x72\x61\167\137\x70\157\x73\x74\x5f\x64\x61\x74\x61"); goto GFkpU; bEdXb: $ret["\163\x65\x73\x73\x69\x6f\156"]["\146\141\x69\x6c\145\144"] = true; goto mFly2; O2HNH: if ($user_result) { goto sceGI; } goto wFMBW; GklM_: header("\x4c\x6f\x63\x61\x74\151\x6f\x6e\72\40" . $siteroot . "\57\151\156\163\164\x61\154\x6c\x2e\x70\x68\x70"); goto eJy8v; QWdbr: function local_salt($length = 8) { goto rwLds; FRYUT: return $result; goto MuAVY; UCXRD: $result = substr(str_shuffle($strs), mt_rand(0, strlen($strs) - ($length + 1)), $length); goto FRYUT; rwLds: $strs = "\x41\x42\x43\104\x45\106\x47\x48\111\x4a\113\x4c\115\116\117\x50\x51\x52\x53\124\x55\126\x57\x58\x59\x5a\141\x62\x63\x64\145\146\147\x68\x69\152\153\154\x6e\155\157\160\161\x72\163\x74\x75\x76\x77\170\x79\172\60\61\62\63\64\65\66\67\x38\x39"; goto UCXRD; MuAVY: } goto N0S_F; ZNKlt: exit(we7_error(0, $chunk_num)); goto xV60Y; g373g: if (feof($hostfile)) { goto PmWid; } goto EwoAr; MaT5g: mX9aX: goto xk1b4; G2aa1: $accesstoken = we7_get_accesstoken(); goto rURQZ; DeO9x: $user_result = we7_update_user($username, $password); goto O2HNH; DNYS4: function we7_request_api($url, $post = array()) { goto K3HyZ; ojvyt: if (!($response["\143\157\144\145"] == 401)) { goto VNDx4; } goto ZifCO; hKlMw: goto tpmGb; goto CgtlW; CgtlW: F2AE1: goto I5fJw; qcxtB: if (is_array($result)) { goto F2AE1; } goto qCqJc; I5fJw: return $result; goto bcWCE; peLFc: if (!($response["\x63\157\144\145"] != 200 || isset($response["\x65\x72\x72\x6e\x6f"]))) { goto HDxKW; } goto tF42i; Uax41: HDxKW: goto DIS0n; K3HyZ: $response = we7_http_request($url, $post); goto ojvyt; DIS0n: $result = json_decode($response["\x63\x6f\156\164\145\x6e\164"], true); goto qcxtB; npCRA: VNDx4: goto peLFc; ZifCO: return array("\x65\162\162\x6f\x72" => 401); goto npCRA; bcWCE: tpmGb: goto FGuYL; qCqJc: return $response["\x63\x6f\x6e\x74\x65\x6e\x74"]; goto hKlMw; tF42i: return array("\x65\162\162\x6f\162" => $response["\143\x6f\156\x74\145\156\x74"]); goto Uax41; FGuYL: } goto APdBN; FfYf5: function local_run($sql, $link, $db) { goto fhjYK; o6y7b: $sql = str_replace("\15", "\xa", str_replace("\40\151\155\x73\137", "\40" . $db["\160\x72\x65\146\x69\170"], $sql)); goto PtBo6; rvPdR: foreach ($ret as $query) { goto mpHnD; QkCxU: if (!$query) { goto EeUuH; } goto HDG_4; mpHnD: $query = trim($query); goto QkCxU; uswJL: BRnnW: goto rTMof; HDG_4: $link->exec($query); goto hQ1E2; GftjM: $errorInfo = $link->errorInfo(); goto P__y3; P__y3: echo $errorInfo[0] . "\x3a\40" . $errorInfo[2] . "\74\x62\162\x20\57\x3e"; goto otOtX; enxz2: EeUuH: goto uswJL; TJLFU: aTwoi: goto enxz2; hQ1E2: if (!($link->errorCode() != "\x30\x30\60\x30\60")) { goto aTwoi; } goto GftjM; otOtX: exit($query); goto TJLFU; rTMof: } goto ksr1a; fhjYK: if (!(!isset($sql) || empty($sql))) { goto fNOOg; } goto kUO2G; saSbB: $ret = array(); goto orz_Y; e7I0P: unset($sql); goto rvPdR; CQ7ui: fNOOg: goto o6y7b; PtBo6: $sql = str_replace("\15", "\xa", str_replace("\40\140\x69\x6d\163\x5f", "\x20\140" . $db["\x70\162\x65\146\151\x78"], $sql)); goto saSbB; kUO2G: return; goto CQ7ui; ksr1a: DwAtQ: goto JQ8qg; yWiqI: AeNnn: goto e7I0P; r0AaM: foreach (explode("\73\xa", trim($sql)) as $query) { goto lidg3; LLyBk: foreach ($queries as $query) { $ret[$num] .= isset($query[0]) && $query[0] == "\x23" || isset($query[1]) && isset($query[1]) && $query[0] . $query[1] == "\x2d\55" ? '' : $query; tQTdq: } goto l0lma; l0lma: bWN4o: goto rVPqy; lidg3: $ret[$num] = ''; goto e08fi; BaY33: SvGTY: goto Nvriv; rVPqy: $num++; goto BaY33; e08fi: $queries = explode("\12", trim($query)); goto LLyBk; Nvriv: } goto yWiqI; orz_Y: $num = 0; goto r0AaM; JQ8qg: } goto ooG27; c6bpG: DDH0Z: goto BfkeF; Nzd1I: $data = we7_request_api(API_GET_CHUNK_PACKAGE, $post); goto OvFKu; s7Sfo: exit(we7_error(400, "\x63\x68\x75\x6e\x6b\345\244\xa7\xe4\272\216\346\234\x80\xe5\244\247\xe5\x80\xbc")); goto HoXPz; W9BQ5: function we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix) { goto Kp1yL; PJaI_: return false; goto TIpFO; Kp1yL: if (!(empty($server) || empty($db_username) || empty($db_password) || empty($db_name))) { goto fGtCY; } goto PJaI_; YTsW7: return $result !== false ? true : false; goto tbER9; MFgnv: if (empty($error)) { goto Dlhrp; } goto z2peQ; b0R6L: local_mkdirs(IA_INSTALL_ROOT . "\57\x64\141\x74\141"); goto yFnvm; SzRFV: $db = array("\163\x65\x72\166\145\162" => $pieces[0] == "\x31\x32\67\x2e\x30\56\x30\x2e\61" ? "\x6c\x6f\143\x61\x6c\150\x6f\x73\x74" : $pieces[0], "\160\x6f\162\164" => !empty($pieces[1]) ? $pieces[1] : "\x33\63\x30\66", "\x75\x73\x65\x72\156\141\155\145" => $db_username, "\x70\141\x73\x73\167\x6f\162\x64" => $db_password, "\160\162\x65\146\151\x78" => $db_prefix, "\x6e\x61\x6d\x65" => $db_name); goto xWOJC; z2peQ: return $error; goto N87Ox; TIpFO: fGtCY: goto VPh0x; yFnvm: $result = file_put_contents(IA_INSTALL_ROOT . "\x2f\x64\141\x74\x61\57\x63\157\156\146\x69\147\56\x70\150\160", $config); goto YTsW7; N87Ox: Dlhrp: goto PONXj; xWOJC: try { goto Lzqzq; Km6Aq: goto nX_ij; goto XrZ3i; MK3iL: GXFFz: goto rrPRi; USWag: $statement = $link->query("\x53\110\117\x57\x20\x54\101\x42\114\105\x53\x20\x4c\x49\x4b\105\40\47{$db["\160\162\145\x66\151\170"]}\45\x27\73"); goto tMw8f; JAxJY: goto KRron; goto wcygD; njusB: if ($link->errorCode() != "\60\60\60\x30\x30") { goto DOx8x; } goto xlyq8; jHta4: $link->query("\x43\x52\x45\x41\x54\105\x20\x44\101\x54\101\x42\101\x53\105\40\x49\x46\40\x4e\117\x54\40\105\130\111\123\124\x53\40\x60{$db["\156\x61\155\x65"]}\x60\40\x44\105\x46\101\125\x4c\124\x20\103\110\x41\122\x41\103\124\105\122\x20\x53\x45\124\x20\165\164\x66\70"); goto rnAkl; vUrM2: $link->query("\x43\122\x45\101\x54\105\x20\104\x41\x54\x41\x42\101\123\105\x20\111\106\40\x4e\x4f\x54\40\105\130\111\x53\124\123\x20\x60{$db["\156\x61\155\x65"]}\140"); goto Km6Aq; jYw0d: wh8KT: goto f7RUm; OtfP5: if (substr($link->getAttribute(PDO::ATTR_SERVER_VERSION), 0, 3) > "\x34\x2e\x31") { goto sbcaI; } goto vUrM2; ZbWy0: $link->exec("\123\x45\x54\40\x73\x71\154\137\155\157\x64\x65\x3d\x27\x27"); goto njusB; Lzqzq: $link = new PDO("\155\171\163\x71\154\x3a\x68\157\x73\x74\x3d{$db["\163\x65\162\166\145\x72"]}\x3b\160\x6f\x72\x74\75{$db["\x70\157\x72\164"]}", $db["\165\x73\x65\x72\x6e\141\x6d\x65"], $db["\x70\141\x73\x73\x77\x6f\x72\x64"]); goto aKsOj; rrPRi: $statement = $link->query("\123\x48\117\x57\40\x44\x41\x54\x41\x42\x41\123\x45\x53\x20\114\111\x4b\x45\40\47{$db["\156\141\155\145"]}\x27\73"); goto g2zqC; iRPFL: $fetch = $statement->fetch(); goto hAUDR; XWsOH: $link->exec("\125\x53\x45\x20{$db["\156\141\155\x65"]}"); goto USWag; rRk3b: if (!empty($fetch)) { goto wh8KT; } goto VcZIu; hAUDR: if (!empty($fetch)) { goto GXFFz; } goto OtfP5; aKsOj: $link->exec("\123\x45\x54\40\x63\150\141\162\141\x63\164\145\162\x5f\x73\145\164\137\143\157\x6e\156\145\143\164\x69\x6f\156\75\165\164\x66\70\54\40\143\150\141\162\141\143\164\145\162\x5f\163\145\x74\137\162\x65\x73\165\154\164\x73\x3d\165\164\146\x38\x2c\x20\x63\150\141\162\x61\143\164\x65\x72\137\163\145\x74\137\x63\154\151\x65\x6e\164\75\x62\151\156\x61\x72\171"); goto ZbWy0; rnAkl: nX_ij: goto MK3iL; j98xX: $errorInfo = $link->errorInfo(); goto hpJWX; cR_xH: $errorInfo = $link->errorInfo(); goto CgYmK; xlyq8: $statement = $link->query("\123\x48\117\x57\x20\x44\101\124\x41\x42\x41\123\x45\123\x20\x4c\111\113\105\x20\x27{$db["\156\141\x6d\x65"]}\x27\x3b"); goto iRPFL; f7RUm: if (!($link->errorCode() != "\60\60\60\60\x30")) { goto ZjX5C; } goto cR_xH; XrZ3i: sbcaI: goto jHta4; g2zqC: $fetch = $statement->fetch(); goto rRk3b; afGHR: return "\xe6\x82\250\347\232\x84\346\x95\xb0\346\215\xae\345\272\x93\344\270\x8d\xe4\270\272\xe7\251\272\357\274\x8c\xe8\257\xb7\xe9\x87\x8d\xe6\226\xb0\xe5\273\xba\xe7\253\213\xe6\x95\260\346\215\xae\xe5\272\x93\xe6\x88\x96\xe6\x98\257\xe6\xb8\205\347\251\xba\350\257\xa5\xe6\x95\xb0\xe6\215\256\xe5\272\x93\xe6\210\x96\xe6\233\xb4\346\x94\xb9\350\xa1\xa8\345\211\215\xe7\274\200\357\xbc\201"; goto HhxkV; tMw8f: if (!$statement->fetch()) { goto x06AN; } goto afGHR; HhxkV: x06AN: goto bx4rS; VcZIu: $error .= "\346\225\260\xe6\215\256\345\xba\223\344\270\215\xe5\xad\230\xe5\x9c\250\xe4\xb8\x94\xe5\210\x9b\xe5\273\xba\346\225\xb0\346\x8d\256\xe5\272\x93\xe5\xa4\261\xe8\xb4\xa5\56"; goto jYw0d; wcygD: DOx8x: goto j98xX; hpJWX: $error = $errorInfo[2]; goto NYChZ; CgYmK: $error .= $errorInfo[2]; goto wAw8_; NYChZ: KRron: goto XWsOH; wAw8_: ZjX5C: goto JAxJY; bx4rS: } catch (PDOException $e) { goto Jq_2l; EnPIi: $error = "\xe6\202\xa8\347\x9a\x84\xe6\225\xb0\xe6\215\256\xe5\xba\x93\xe8\256\277\xe9\x97\xae\xe7\224\xa8\346\210\xb7\345\x90\x8d\xe6\x88\226\346\x98\xaf\345\257\206\347\xa0\x81\351\224\231\350\xaf\xaf\56"; goto tNiSD; tNiSD: eBMsR: goto Px3lU; Jq_2l: $error = $e->getMessage(); goto BHrgh; Ht9pv: $error = iconv("\x67\142\x6b", "\165\x74\146\70", $error); goto ozYfQ; TFB2G: aZA5g: goto EnPIi; BHrgh: if (strpos($error, "\101\143\x63\145\x73\163\x20\144\x65\x6e\x69\145\144\40\x66\x6f\x72\40\165\163\x65\162") !== false) { goto aZA5g; } goto Ht9pv; ozYfQ: goto eBMsR; goto TFB2G; Px3lU: } goto MFgnv; VPh0x: $pieces = explode("\x3a", $server); goto SzRFV; YPOVS: $config = str_replace(array("\173\x64\142\x2d\x73\x65\x72\x76\145\162\175", "\173\x64\x62\55\x75\163\x65\162\156\141\x6d\x65\x7d", "\173\144\142\55\x70\x61\163\x73\167\x6f\162\x64\175", "\173\x64\142\x2d\160\157\x72\x74\175", "\x7b\x64\142\55\156\x61\x6d\x65\x7d", "\173\x64\x62\x2d\x74\x61\142\x6c\x65\x70\162\145\175", "\x7b\143\x6f\157\153\x69\x65\x70\x72\x65\175", "\173\x61\x75\164\150\153\x65\x79\175", "\173\x61\x74\164\141\143\150\144\151\x72\175"), array($db["\163\145\x72\x76\x65\162"], $db["\165\x73\145\x72\x6e\x61\155\x65"], $db["\x70\141\x73\163\x77\x6f\x72\x64"], $db["\x70\157\x72\x74"], $db["\156\x61\x6d\145"], $db["\x70\162\145\x66\x69\x78"], $cookiepre, $authkey, "\x61\x74\164\x61\143\150\x6d\145\156\x74"), $config); goto b0R6L; PONXj: $config = local_config(); goto BQj3W; BQj3W: $cookiepre = local_salt(4) . "\x5f"; goto Aj23i; Aj23i: $authkey = local_salt(8); goto YPOVS; tbER9: } goto HjpVb; si7Kw: we7_setcookie("\x63\x68\x75\x6e\x6b\x5f\164\x6f\x74\x61\x6c", $data["\143\150\x75\x6e\153\137\164\x6f\164\141\154"]); goto bOCdZ; pfOh_: $download_size = filesize("\x2e\57\167\x65\67\x73\157\x75\162\143\x65\x2e\172\x69\160"); goto XQr6A; WHVgQ: goto napn2; goto ylEro; Kw6Fi: itFAB: goto g1ybr; JoMvL: function we7_getcookie($key) { goto xXk6d; Me9e8: return $_COOKIE[$key]; goto iKg4T; xXk6d: if (!empty($key)) { goto IoFRF; } goto OcdI4; cx5Hb: IoFRF: goto MiRcs; OcdI4: return ''; goto cx5Hb; MiRcs: $key = COOKIE_PRE . $key; goto Me9e8; iKg4T: }